(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"8ITO":function(t,e,n){"use strict";var o=n("RA8b");n.n(o).a},"9xfi":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".unused[data-v-2884e836]{color:#aaa}",""])},FD4A:function(t,e,n){"use strict";var o=n("wd/R"),r=n.n(o),i=(n("XuAf"),{props:{curation:{type:Object,required:!0}},computed:{orderedClassifications:function(){return this.curation.classifications?this.curation.classifications.concat().sort((function(t,e){return r()(t.pivot.classification_date).isSame(e.pivot.classification_date)?t.id==e.id?0:t.id<e.id?1:-1:r()(t.pivot.classification_date).isBefore(e.pivot.classification_date)?1:-1})):[]}}}),a=(n("Stug"),n("KHd+")),s=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"curation-classification-history"},[n("table",{staticClass:"table table-bordered table-small"},[t._m(0),t._v(" "),t._l(t.orderedClassifications,(function(e,o){return n("tr",{key:e.pivot.id,class:{"table-primary highlight":0==o}},[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(t._f("formatDate")(e.pivot.classification_date,"YYYY-MM-DD")))])])}))],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Classification")]),this._v(" "),e("th",[this._v("Date")])])}],!1,null,"45066372",null);e.a=s.exports},RA8b:function(t,e,n){var o=n("9xfi");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(t.exports=o.locals)},RDmU:function(t,e,n){"use strict";var o=n("wd/R"),r=n.n(o),i=(n("XuAf"),{props:{curation:{type:Object,required:!0}},computed:{orderedStatuses:function(){return this.curation.curation_statuses?this.curation.curation_statuses.concat().sort((function(t,e){return r()(t.pivot.status_date).isSame(e.pivot.status_date)?t.id==e.id?0:t.id<e.id?1:-1:r()(t.pivot.status_date).isBefore(e.pivot.status_date)?1:-1})):[]}}}),a=(n("Vb8l"),n("KHd+")),s=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"curation-status-history"},[n("table",{staticClass:"table table-bordered table-small"},[t._m(0),t._v(" "),t._l(t.orderedStatuses,(function(e,o){return n("tr",{key:e.pivot.id,class:{"table-primary highlight":0==o}},[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(t._f("formatDate")(e.pivot.status_date,"YYYY-MM-DD")))])])}))],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Status")]),this._v(" "),e("th",[this._v("Date")])])}],!1,null,"329ba673",null);e.a=s.exports},Stug:function(t,e,n){"use strict";var o=n("Yn47");n.n(o).a},Vb8l:function(t,e,n){"use strict";var o=n("ZmI2");n.n(o).a},Wmfs:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"tr.highlight td[data-v-45066372]{font-weight:700}",""])},XuAf:function(t,e,n){"use strict";var o=n("XuX8"),r=n.n(o),i=n("wd/R"),a=n.n(i);r.a.filter("formatDate",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm";return null===t?null:a()(t).format(e)}))},Yn47:function(t,e,n){var o=n("Wmfs");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(t.exports=o.locals)},ZmI2:function(t,e,n){var o=n("ntFs");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(t.exports=o.locals)},"dnW+":function(t,e){var n=function(t){var e=[];for(var n in t)e.push(n+"="+t[n]);return"?"+e.join("&")};t.exports={baseUrl:null,name:"BaseRepository",dates:[],makeRequest:function(t,e,n){if(!e)throw"No url";var o={method:t=t||"GET",url:e};return n&&(o.data=n),window.axios(o)},all:function(t){var e=this.baseUrl+n(t);return this.makeRequest("get",e).then(function(t){return{data:t.data.map(function(t){return this.transformDates(t)}.bind(this)),status:t.status,headers:t.headers,request:t.request,statusText:t.statusText,config:t.config}}.bind(this)).catch(function(t){var e;return e="Unable to retrieve "+this.name,console.error(e),alert("There was a problem: "+e+". Please notify the development team."),t}.bind(this))},find:function(t,e){var o=this.baseUrl+"/"+t+n(e);return this.makeRequest("get",o).then(function(t){return t.data=this.transformDates(t.data),t}.bind(this))},save:function(t){for(var e in t)t[e]&&t[e]._isAMomentObject?t[e]=t[e].format("YYYY-MM-DD HH:mm:ss"):this.dates.indexOf(e)>-1&&(t[e]=moment(t[e]).format("YYYY-MM-DD HH:mm:ss"));return t.id?this.update(t):this.store(t)},store:function(t){return this.makeRequest("post",this.baseUrl,t).then(function(t){return t.data=this.transformDates(t.data),t}.bind(this))},update:function(t){return this.makeRequest("put",this.baseUrl+"/"+t.id,t)},destroy:function(t){return this.makeRequest("delete",this.baseUrl+"/"+t)},transformDates:function(t){var e={};for(var n in t)this.dates.indexOf(n)>-1?e[n]=moment(t[n]):e[n]=t[n];return e}}},j6Wa:function(t,e,n){"use strict";var o=n("L2JU");function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={props:{curation:{required:!0,type:Object}},data:function(){return{}},computed:i(i({},Object(o.c)({user:"getUser"})),{},{title:function(){var t="";return this.curation&&this.curation.gene_symbol&&(t+=this.curation.gene_symbol,this.curation.mondo_id&&(t+=" / "+this.curation.mondo_id),this.curation.expert_panel&&(t+=" for "+this.curation.expert_panel.name)),t}}),methods:i(i(i({},Object(o.b)("curations",{destroyCuration:"destroyItem"})),Object(o.d)("messages",["addInfo","addError"])),{},{deleteCuration:function(){var t=this;if(confirm("You're about to delete "+this.title+". This can not be undone.  Are you sure you want to continue?")){this.$router.push("/");var e=this.title;this.destroyCuration(this.curation.id).then((function(n){t.addInfo(e+" was successfully deleted.")})).catch((function(n){var o="There was a problem deleting"+e;403==n.response.status&&(o="You do not have permissions to delete curations.  Please contact an adminstrator to help you delete the curation."),t.addError(o)}))}}})},c=n("KHd+"),l=Object(c.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user.canDeleteCuration(t.curation)?n("button",{staticClass:"btn btn-danger",attrs:{id:"delete-curation-"+t.curation.id+"-btn"},on:{click:function(e){return t.deleteCuration(t.curation)}}},[t._t("default",[t._v("Delete")])],2):t._e()}),[],!1,null,null,null);e.a=l.exports},"jQ/d":function(t,e,n){"use strict";n.r(e);var o=n("L2JU"),r=(n("vlNi"),{props:{geneSymbol:{required:!0},curation:{required:!0,type:Object}},data:function(){return{phenotypes:[]}},watch:{$route:function(t,e){this.phenotypes=this.curation.phenotypes||[]}},computed:{usedPhenotypes:function(){var t=this;return this.phenotypes.length>0&&this.curation.phenotypes?this.phenotypes.filter((function(e){return t.curation.phenotypes.indexOf(e.phenotypeMimNumber)>-1})):this.phenotypes},unusedPhenotypes:function(){var t=this;return this.phenotypes.length>0&&this.curation.phenotypes?this.phenotypes.filter((function(e){return t.curation.phenotypes.indexOf(e.phenotypeMimNumber)<0})):this.phenotypes}},mounted:function(){this.phenotypes=this.curation.phenotypes||[]}}),i=(n("8ITO"),n("KHd+")),a=Object(i.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-container row"},[t.phenotypes.length>0?n("div",{staticClass:" col-lg-8"},[n("table",{staticClass:"table table-sm table-xs mb-0"},[t._m(0),t._v(" "),n("tbody",t._l(t.phenotypes,(function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.mim_number))]),t._v(" "),n("td",[t._v(t._s(e.name))])])})),0)])]):n("div",{staticClass:"col"},[t._v("\n        No phenotypes in this curation\n    ")])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("th",[this._v("MIM Number")]),this._v(" "),e("th",{staticStyle:{width:"80%"}},[this._v("Phenotype")])])}],!1,null,"2884e836",null).exports,s=n("RDmU"),c=n("FD4A"),l=n("j6Wa");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={components:{ValidationError:n("ttp2").a},props:{curation:{required:!0,type:Object}},data:function(){return{showModal:!1,categories:[],newUpload:{},errors:{},uploading:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(o.c)({maxUploadSize:"getMaxUploadSize",supportedMimes:"getSupportedMimes"})),methods:{getUploadCategories:function(){var t=this;window.axios.get("/api/upload-categories").then((function(e){return t.categories=e.data.data}))},initNewUpload:function(){this.newUpload={name:"",upload_category_id:"",notes:""}},initErrors:function(){this.errors={}},clearForm:function(){this.initNewUpload(),this.initErrors()},prepopulateName:function(){""==this.newUpload.name&&(this.newUpload.name=this.$refs.uploadField.files[0].name)},uploadFile:function(t){var e=this;this.initErrors(),t.preventDefault();var n=new FormData;return n.append("curation_id",this.curation.id),n.append("name",this.newUpload.name),n.append("file",this.$refs.uploadField.files[0]),n.append("upload_category_id",this.newUpload.upload_category_id),n.append("notes",this.newUpload.notes),this.uploading=!0,window.axios.post("/api/curations/".concat(this.curation.id,"/uploads"),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.$emit("uploaded"),e.clearForm(),e.$nextTick((function(){return e.$refs.uploadModal.hide()}))})).catch((function(t){422!=t.response.status?413!=t.response.status?alert("There was an unkown problem with your file upload."):e.errors={file:["The file was too large"]}:e.errors=t.response.data.errors})).then((function(){e.uploading=!1}))},launchFileSelector:function(){this.$refs.uploadField.click()}},mounted:function(){this.getUploadCategories(),this.initNewUpload(),this.initErrors()}},p=Object(i.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-2"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){t.showModal=!0}}},[t._v("Add Document")]),t._v(" "),n("b-modal",{ref:"uploadModal",attrs:{title:"Upload a Document","ok-disabled":t.uploading,"cancel-disabled":t.uploading,"ok-title":t.uploading?"Uploading...":"Upload"},on:{ok:t.uploadFile,cancel:t.clearForm},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[n("div",{staticClass:"form-row"},[n("label",{staticClass:"col-sm-2",attrs:{for:"file-field"}},[t._v("\n                File:\n            ")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("div",{staticClass:"d-flex justify-content-between"},[n("div",[n("input",{ref:"uploadField",staticClass:"form-control-file",attrs:{type:"file",id:"file-field",disabled:t.uploading},on:{change:function(e){return t.prepopulateName()}}})]),t._v(" "),n("div",[n("small",{directives:[{name:"b-toggle",rawName:"v-b-toggle.file-info-collapse",modifiers:{"file-info-collapse":!0}}],staticClass:"text-secondary material-icons cursor-pointer"},[t._v("info")])])]),t._v(" "),n("b-collapse",{attrs:{id:"file-info-collapse"}},[n("div",[n("small",{staticClass:"text-muted"},[t._v("Supported types: "+t._s(t.supportedMimes.join(", ")))])]),t._v(" "),n("div",[n("small",{staticClass:"text-muted"},[t._v("Max size: "+t._s(t.maxUploadSize))])])]),t._v(" "),n("validation-error",{attrs:{messages:t.errors.file}})],1)]),t._v(" "),n("div",{staticClass:"form-row"},[n("label",{staticClass:"col-sm-2",attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newUpload.name,expression:"newUpload.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"name",maxlength:"255",disabled:t.uploading},domProps:{value:t.newUpload.name},on:{input:function(e){e.target.composing||t.$set(t.newUpload,"name",e.target.value)}}}),t._v(" "),n("validation-error",{attrs:{messages:t.errors.name}})],1)]),t._v(" "),t.categories.length>0?n("div",{staticClass:"form-row"},[n("label",{staticClass:"col-sm-2",attrs:{for:"category_id"}},[t._v("Category:")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.newUpload.upload_category_id,expression:"newUpload.upload_category_id"}],staticClass:"form-control form-control-sm",attrs:{name:"category_id",id:"category_id",disabled:t.uploading},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.newUpload,"upload_category_id",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[t._v("None")]),t._v(" "),t._l(t.categories,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])}))],2),t._v(" "),n("validation-error",{attrs:{messages:t.errors.upload_category_id}})],1)]):t._e(),t._v(" "),n("div",{staticClass:"form-row"},[n("label",{staticClass:"col-sm-2",attrs:{for:"notes"}},[t._v("\n                Notes:\n            ")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newUpload.notes,expression:"newUpload.notes"}],staticClass:"form-control form-control-sm",attrs:{name:"notes",id:"notes",cols:"30",rows:"5",maxlegnth:"65535",disabled:t.uploading},domProps:{value:t.newUpload.notes},on:{input:function(e){e.target.composing||t.$set(t.newUpload,"notes",e.target.value)}}}),t._v(" "),n("validation-error",{attrs:{messages:t.errors.notes}})],1)])])],1)}),[],!1,null,null,null).exports,f=n("o0o1"),v=n.n(f);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=t;if(Object.keys(t).includes("filter")){var o=t.filter,r=g(t,["filter"]);n=b(b({},o),r)}var i=[];e&&i.push("page="+(n.currentPage?n.currentPage:1)),delete n.currentPage;var a=function(t){if(null===n[t]||void 0===n[t])return"continue";Array.isArray(n[t])?n[t].forEach((function(e){i.push(encodeURIComponent(t)+"[]="+encodeURIComponent(e))})):"object"==h(n[t])&&null!==n[t]?Object.keys(n[t]).forEach((function(e){i.push("".concat(encodeURIComponent(t),"[").concat(e,"]=").concat(n[t][e]))})):i.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]))};for(var s in n)a(s);return i.join("&")};function C(t,e,n,o,r,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,r)}function O(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){C(i,o,r,a,s,"next",t)}function s(t){C(i,o,r,a,s,"throw",t)}a(void 0)}))}}var j=function(t){return D.apply(this,arguments)};function D(){return(D=O(v.a.mark((function t(e){var n,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.where.curation_id,o="/api/curations/"+n+"/uploads",t.next=4,axios.get(o+(e?"?"+w(e):"")).then((function(t){return t.data.data}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,e,n,o,r,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(o,r)}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U={components:{DocumentUploader:p},props:{curation:{reqired:!0,type:Object}},data:function(){var t=this;return{showDetailedInfo:!1,loadingDocuments:!1,documents:[],currentDocument:null,filter:"",fields:[{key:"id",sortable:!0},{key:"name",sortable:!0},{key:"category.name",sortable:!0,label:"Category"},{key:"created_at",label:"Created",sortable:!0,formatter:function(e,n,o){return t.$options.filters.formatDate(e,"YYYY-MM-DD")}},{key:"uploader.name",label:"Uploaded by",sortable:!0},"action"],filteredFields:["name","id","category","uploader","uploader"]}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(o.c)({user:"getUser"})),methods:{getDocuments:function(){var t,e=this;return(t=v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingDocuments=!0,t.next=3,j({with:["category","uploader"],where:{curation_id:e.curation.id}});case 3:e.documents=t.sent,e.loadingDocuments=!1;case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){x(i,o,r,a,s,"next",t)}function s(t){x(i,o,r,a,s,"throw",t)}a(void 0)}))})()},showDetails:function(t){this.currentDocument=t,this.showDetailedInfo=!0},downloadFile:function(t){axios.get("/api/curations/"+this.curation.id+"/uploads/"+t.id+"/file",{responseType:"blob"}).then((function(e){console.log(e.data);var n=e.data,o=window.document.createElement("a"),r=window.URL.createObjectURL(n);o.href=r,o.download=t.name,window.document.body.append(o),o.click(),o.remove(),window.URL.revokeObjectURL(r)})).catch((function(t){if(!t.response||404!=t.response.status)throw t;alert("We couldn't seem to find the file you requested.")}))},deleteDocument:function(t){var e=this;confirm("Are you sure you want to delete the document "+t.name+"?")&&(this.documents.splice(this.documents.findIndex((function(e){return e.id=t.id})),1),axios.delete("/api/curations/"+this.curation.id+"/uploads/"+t.id).then((function(t){})).catch((function(t){e.getDocuments(),alert("There was a problem deleting the document.  Contact the administrator if the problem persists.")})))}},mounted:function(){this.getDocuments()}};function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I={components:{DocumentUploader:p,DocumentsList:Object(i.a)(U,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loadingDocuments?n("div",{staticClass:"alert alert-info"},[t._v("Loading...")]):t._e(),t._v(" "),t.loadingDocuments||0!=t.documents.length?t._e():n("div",{staticClass:"alert alert-light border"},[t._v("\n        No documents found\n    ")]),t._v(" "),t.documents.length>0?n("div",[n("div",{staticClass:"form-inline mb-1"},[n("label",{attrs:{for:"list-filter-input"}},[t._v("Filter:")]),t._v("Â \n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),t._v(" "),n("b-table",{attrs:{fields:t.fields,items:t.documents,filter:t.filter,"filter-included-fields":t.filteredFields,stacked:"sm"},scopedSlots:t._u([{key:"cell(action)",fn:function(e){var o=e.item;return[n("a",{attrs:{href:"#",title:"Download document"},on:{click:function(e){return e.preventDefault(),t.downloadFile(o)}}},[n("i",{staticClass:"material-icons"},[t._v("cloud_download")])]),t._v(" "),n("a",{attrs:{href:"#",title:"Detailed information"},on:{click:function(e){return e.preventDefault(),t.showDetails(o)}}},[n("i",{staticClass:"material-icons"},[t._v("info")])]),t._v(" "),t.user.canEditCuration(t.curation)?n("a",{staticClass:"text-danger",attrs:{href:"#",title:"Delete document"},on:{click:function(e){return e.preventDefault(),t.deleteDocument(o)}}},[n("i",{staticClass:"material-icons"},[t._v("delete")])]):t._e()]}}],null,!1,2771667464)})],1):t._e(),t._v(" "),t.currentDocument?n("b-modal",{attrs:{"hide-footer":"",title:t.currentDocument.name,size:"lg"},model:{value:t.showDetailedInfo,callback:function(e){t.showDetailedInfo=e},expression:"showDetailedInfo"}},[n("dl",{staticClass:"row"},[n("dt",{staticClass:"col-md-2"},[t._v("Name:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.name))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("File name:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.file_name?t.currentDocument.file_name:"--"))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("Category:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.category?t.currentDocument.category.name:"--"))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("Date uploaded:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t._f("formatDate")(t.currentDocument.created_at,"YYYY-MM-DD")))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("Uploaded by:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.uploader?t.currentDocument.uploader.name:"--"))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("Notes:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.notes?t.currentDocument.notes:"--"))])]),t._v(" "),n("div",{staticClass:"mt-2"},[n("button",{staticClass:"btn btn-primary text-middle btn-sm",attrs:{title:"Download document"},on:{click:function(e){return t.downloadFile(t.currentDocument)}}},[t._v("\n                Download document\n            ")])])]):t._e()],1)}),[],!1,null,null,null).exports},props:{curation:{reqired:!0,type:Object}},data:function(){return{}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(o.c)({user:"getUser"})),methods:{}},M=Object(i.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[t.user.canEditCuration(t.curation)?n("document-uploader",{staticClass:"float-right",attrs:{curation:t.curation},on:{uploaded:function(e){return t.$refs.docList.getDocuments()}}}):t._e(),t._v("\n        Documents\n    ")],1),t._v(" "),n("documents-list",{ref:"docList",attrs:{curation:t.curation}})],1)}),[],!1,null,null,null).exports;function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){H(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function H(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R={props:["id"],components:{PhenotypeList:a,CurationStatusHistory:s.a,DeleteButton:l.a,ClassificationHistory:c.a,DocumentsCard:M},data:function(){return{showStatusHistory:!1,showClassificationHistory:!1,loading:!0}},watch:{$route:function(t,e){this.loadCuration()}},computed:N(N(N({},Object(o.c)({user:"getUser"})),Object(o.c)("curations",{curations:"Items",getCuration:"getItemById"})),{},{statusHistoryButtonText:function(){return this.showStatusHistory?"Hide history":"Show history"},classificationButtonText:function(){return this.showClassificationHistory?"Hide history":"Show history"},title:function(){var t="Curation: ";return this.curation&&this.curation.gene_symbol&&(t+=this.curation.gene_symbol,this.curation.mondo_id&&(t+=" / "+this.curation.mondo_id),this.curation.expert_panel&&(t+=" for "+this.curation.expert_panel.name)),t},curation:function(){return 0==this.curations.length?{}:this.getCuration(this.id)},mondoUrl:function(){if(this.curation.mondo_id)return"https://www.ebi.ac.uk/ols/ontologies/mondo/terms?iri=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FMONDO_".concat(this.curation.mondo_id.substring(6))}}),methods:N(N({},Object(o.b)("curations",{fetchCuration:"fetchItem"})),{},{loadCuration:function(){var t=this;this.loading=!0,this.fetchCuration(this.id).then((function(e){t.loading=!1})).catch((function(e){t.loading=!1}))}}),mounted:function(){this.loadCuration()}},F=Object(i.a)(R,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"curation-show-container"},[n("div",[n("router-link",{attrs:{to:"/curations"}},[t._v("\n            < Back to curations\n        ")])],1),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.loading?n("div",{key:"loading",staticClass:"alert alert-secondary lead text-center mt-4"},[t._v("\n        Loading...\n    ")]):n("b-card",{key:"curation-details",staticStyle:{"max-heigh":"1000px"},attrs:{id:"show-curation"}},[n("template",{slot:"header"},[n("h3",[t._v(t._s(t.title)+"\n\n                "),t.loading?t._e():n("div",{staticClass:"float-right d-block"},[t.user.canEditCuration(t.curation)?n("router-link",{staticClass:"btn btn-secondary btn-sm",attrs:{id:"edit-curation-"+t.curation.id+"-btn",to:"/curations/"+t.curation.id+"/edit"}},[t._v("\n                        Edit\n                    ")]):t._e(),t._v(" "),n("delete-button",{staticClass:"btn-sm",attrs:{curation:t.curation}})],1)])]),t._v(" "),this.curations?n("div",[n("div",{attrs:{id:"info"}},[n("div",{staticClass:"row mt-2"},[n("strong",{staticClass:"col-md-3"},[t._v("Gene Symbol:")]),t._v(" "),n("div",{staticClass:"col-md"},[t._v(t._s(t.curation.gene_symbol)+" - "),t.curation.name?n("span",[t._v(t._s("hgnch:"+t.curation.name))]):t._e(),t._v(" ("),t.curation.hgnc_id?n("small",[t._v(t._s("hgnch:"+t.curation.hgnc_id))]):t._e(),t._v(")")])]),t._v(" "),n("div",{staticClass:"row mt-2"},[n("strong",{staticClass:"col-md-3"},[t._v("\n                        Mode Of Inheritance:\n                    ")]),t._v(" "),n("div",{staticClass:"col-md"},[t.curation.mode_of_inheritance?n("div",[t._v("\n                            "+t._s(t.curation.mode_of_inheritance.name)+" - ("+t._s(t.curation.mode_of_inheritance.hp_id)+")\n                        ")]):n("div",[t._v("--")])])]),t._v(" "),n("div",{staticClass:"row mt-2"},[n("strong",{staticClass:"col-md-3"},[t._v("Disease Entity:")]),t._v(" "),n("div",{staticClass:"col-md"},[t.curation.mondo_id?n("div",[t.curation.mondo_name?n("span",[t._v("\n                                "+t._s(t.curation.mondo_name?t.curation.mondo_name:"")+" - \n                            ")]):t._e(),t._v(" "),n("external-link",{staticClass:"external",attrs:{href:t.mondoUrl,target:"mondo"}},[t._v("\n                                "+t._s(t.curation.mondo_id?t.curation.mondo_id:"--")+"\n                            ")])],1):t._e()])]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"row mt-2"},[n("strong",{staticClass:"col-md-3"},[t._v("Expert Panel:")]),t._v(" "),n("div",{staticClass:"col-md"},[t._v(t._s(t.curation.expert_panel?t.curation.expert_panel.name:"--"))])]),t._v(" "),n("div",{staticClass:"row mt-2"},[n("strong",{staticClass:"col-md-3"},[t._v("Curator:")]),t._v(" "),n("div",{staticClass:"col-md"},[t._v(t._s(t.curation.curator?t.curation.curator.name:"--"))])]),t._v(" "),n("div",{staticClass:"row mt-2"},[n("strong",{staticClass:"col-md-3"},[t._v("Curation Type:")]),t._v(" "),n("div",{staticClass:"col-md"},[t._v("\n                        "+t._s(t.curation.curation_type?t.curation.curation_type.description:"--")+"\n                    ")])]),t._v(" "),n("div",{staticClass:"row mt-4"},[n("strong",{staticClass:"col-md-3"},[t._v("Phenotypes:")]),t._v(" "),n("phenotype-list",{staticClass:"col-md",attrs:{curation:t.curation,"gene-symbol":t.curation.gene_symbol}})],1),t._v(" "),n("div",{staticClass:"row mt-2"},[n("strong",{staticClass:"col-md-3"},[t._v("Rationale:")]),t._v(" "),n("div",{staticClass:"col-md"},[n("ul",{staticClass:"list-inline"},t._l(t.curation.rationales,(function(e,o){return n("li",{key:e.id,staticClass:"list-inline-item"},[t._v("\n                                "+t._s(e.name)),o+1<t.curation.rationales.length?n("span",[t._v(",")]):t._e()])})),0)])]),t._v(" "),n("div",{staticClass:"row mt-2"},[n("strong",{staticClass:"col-md-3"},[t._v("PMIDS")]),t._v(" "),t.curation.pmids?n("div",{staticClass:"col-md"},[n("ul",{staticClass:"list-inline"},t._l(t.curation.pmids,(function(e,o){return n("li",{key:o,staticClass:"list-inline-item"},[t._v("\n                                "+t._s(e)),t.curation.pmids&&t.curation.pmids.length>o+1?n("span",[t._v(",")]):t._e()])})),0)]):t._e()]),t._v(" "),n("div",{staticClass:"row mt-2"},[n("strong",{staticClass:"col-md-3"},[t._v("Notes on Rationale")]),t._v(" "),n("div",{staticClass:"col-md"},[t._v("\n                        "+t._s(t.curation.rationale_notes)+"\n                    ")])]),t._v(" "),n("div",{staticClass:"row mt-1"},[n("strong",{staticClass:"col-md-3"},[t._v("Disease entity notes:")]),t._v(" "),n("div",{staticClass:"col-md"},[t._v(t._s(t.curation.disease_entity_notes?t.curation.disease_entity_notes:"--"))])]),t._v(" "),n("div",{staticClass:"row mt-3"},[n("strong",{staticClass:"col-md-3"},[t._v("Current Status:")]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"mb-2"},[t._v("\n                            "+t._s(t.curation.current_status?t.curation.current_status.name:"No status set")+" \n                            "),n("button",{staticClass:"btn btn-sm"},[n("small",[n("small",{on:{click:function(e){t.showStatusHistory=!t.showStatusHistory}}},[t._v(t._s(t.statusHistoryButtonText))])])])]),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("curation-status-history",{directives:[{name:"show",rawName:"v-show",value:t.showStatusHistory,expression:"showStatusHistory"}],attrs:{curation:t.curation}})],1)],1)]),t._v(" "),t.curation.gdm_uuid?n("div",{staticClass:"row mt-2"},[n("strong",{staticClass:"col-md-3"},[t._v("GCI ID:")]),t._v(" "),n("div",{staticClass:"col-md"},[n("external-link",{attrs:{href:"https://curation.clinicalgenome.org/curation-central/?gdm="+t.curation.gdm_uuid,target:"gci"}},[t._v("\n                            "+t._s(t.curation.gdm_uuid)+"\n                        ")])],1)]):t._e(),t._v(" "),n("div",{staticClass:"row mt-3"},[n("strong",{staticClass:"col-md-3"},[t._v("Current Classification:")]),t._v(" "),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"mb-2"},[t._v("\n                            "+t._s(t.curation.current_classification?t.curation.current_classification.name:"No status set")+" \n                            "),n("button",{staticClass:"btn btn-sm"},[n("small",[n("small",{on:{click:function(e){t.showClassificationHistory=!t.showClassificationHistory}}},[t._v(t._s(t.classificationButtonText))])])])]),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("classification-history",{directives:[{name:"show",rawName:"v-show",value:t.showClassificationHistory,expression:"showClassificationHistory"}],attrs:{curation:t.curation}})],1)],1)]),t._v(" "),n("div",{staticClass:"row mt-1"},[n("strong",{staticClass:"col-md-3"},[t._v("Notes:")]),t._v(" "),n("div",{staticClass:"col-md"},[t._v(t._s(t.curation.notes?t.curation.notes:"--"))])])]),t._v(" "),n("hr"),t._v(" "),n("documents-card",{attrs:{curation:t.curation}})],1):t._e()],2)],1)],1)}),[],!1,null,null,null);e.default=F.exports},ntFs:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"tr.highlight td[data-v-329ba673]{font-weight:700}",""])},ttp2:function(t,e,n){"use strict";var o={props:["messages"],computed:{hasErrors:function(){return void 0!==this.messages}}},r=n("KHd+"),i=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.hasErrors,expression:"hasErrors"}],staticClass:"text-danger mt-1"},t._l(t.messages,(function(e,o){return n("div",{key:o},[n("small",[t._v(t._s(e))])])})),0)])}),[],!1,null,null,null);e.a=i.exports},vlNi:function(t,e,n){var o=n("dnW+"),r=Object.create(o);r.baseUrl="/api/omim",r.all=function(t){throw"all method is not supported"},r.all=function(t){throw'"all" method is not supported'},r.store=function(t){throw'"store" method is not supported'},r.update=function(t){throw'"update" method is not supported'},r.destroy=function(t){throw'"destroy" method is not supported'},r.entry=function(t){return this.makeRequest("get",this.baseUrl+"/entry?mim_number="+t)},r.search=function(t){return this.makeRequest("get",this.baseUrl+"/search?search="+t)},r.gene=function(t){return this.makeRequest("get",this.baseUrl+"/gene/"+t)},t.exports=r}}]);
//# sourceMappingURL=CurationShow.dc815d09129004d95607.js.map