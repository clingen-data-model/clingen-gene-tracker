(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{f2aF:function(t,e,n){"use strict";n.r(e);var a=n("L2JU"),r=n("PwNb"),i=n("vlNi"),o=n.n(i),s={data:function(){return{phenotypes:[],phenotypesLoaded:!1}},computed:{loading:function(){return this.$store.getters.loading}},methods:{fetchPhenotypes:function(t){var e=this;return t?o.a.gene(t).then((function(t){e.phenotypes=t.data.phenotypes,e.phenotypesLoaded=!0})).catch((function(t){console.error(t)})):new Promise((function(t,e){t()}))}}},u=n("EzaY"),c=n("ttp2"),d={components:{},data:function(){return{}},methods:{}},l=n("KHd+"),p=Object(l.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.$store.getters.omimLoading,expression:"$store.getters.omimLoading"}],staticClass:"alert alert-info"},[this._v("\n        Loading data from OMIM...\n    ")])])}),[],!1,null,null,null).exports,h={mixins:[r.a,s],components:{CriteriaTable:u.a,ValidationError:c.a,OmimLoading:p},data:function(){return{page:"curation-types",curationTypes:[],fields:[{key:"phenotype",sortable:!0},{key:"phenotypeMimNumber",sortable:!0},{key:"phenotypeInheritance",sortable:!0,label:"Inheritance"}]}},watch:{updatedCuration:function(t,e){t!=e&&(t.gene_symbol==e.gene_symbol&&t.curation_type_id==e.curation_type_id||this.fetchPhenotypes(this.updatedCuration.gene_symbol),this.updatedCuration.addingCurationType=1)}},computed:{options:function(){return this.phenotypesLoaded&&0==this.phenotypes.length&&null===this.updatedCuration.curation_type_id?(this.updatedCuration.curation_type_id=2,[]):1==this.phenotypes.length?this.curationTypes.filter((function(t){return"lumped"!=t.name})).map((function(t){return{text:t.description,value:t.id}})):this.curationTypes.map((function(t){return{text:t.description,value:t.id}}))}},methods:{fetchCurationTypes:function(){var t=this;window.axios.get("/api/curation-types").then((function(e){t.curationTypes=e.data}))}},mounted:function(){this.fetchCurationTypes()}},m=Object(l.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"curation-curation-container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0==t.phenotypes.length&&!t.loading,expression:"phenotypes.length == 0 && !loading"}]},[n("div",{staticClass:"alert alert-secondary clearfix"},[n("p",[t._v("The gene "),n("strong",[t._v(t._s(t.updatedCuration.gene_symbol))]),t._v(" is not associated with a disease entity per OMIM at this time.")])])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-8"},[n("omim-loading"),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.phenotypes.length>0,expression:"phenotypes.length > 0"}]},[n("b-table",{attrs:{striped:"",hover:"",items:t.phenotypes,fields:t.fields,stacked:"sm",small:"",bordered:""}}),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[n("strong",[t._v("How would you like to proceed?")])]),t._v(" "),n("b-form-radio-group",{attrs:{id:"btnradios2",size:"lg",options:t.options,stacked:"",name:"radioBtnOutline"},model:{value:t.updatedCuration.curation_type_id,callback:function(e){t.$set(t.updatedCuration,"curation_type_id",e)},expression:"updatedCuration.curation_type_id"}}),t._v(" "),n("validation-error",{attrs:{messages:t.errors.curation_type_id}})],1)],1)])],1),t._v(" "),n("div",{staticClass:"col-lg-4"},[n("criteria-table")],1)])])}),[],!1,null,null,null).exports,v=n("0R+v");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C={components:{CriteriaTable:u.a,CurationNotifications:v.a,ValidationError:c.a},props:["disabled"],mixins:[r.a,s],data:function(){return{page:"phenotypes",phenotypes:[],updatedCuration:{},fields:[{key:"phenotype",sortable:!0},{key:"phenotypeMimNumber",sortable:!0},{key:"phenotypeInheritance",sortable:!0,label:"Inheritance"},{key:"checkbox",tdClass:"text-right w-10",sortable:!1,label:" ",formatter:function(t,e,n){return{mim_number:n.phenotypeMimNumber,name:n.phenotype}}}],message:null}},watch:{updatedCuration:function(t,e){var n=this;t.gene_symbol!=e.gene_symbol&&this.fetchPhenotypes(this.updatedCuration.gene_symbol).then((function(t){n.phenotypes&&1==n.phenotypes.length&&1==n.updatedCuration.curation_type_id&&n.updatedCuration.phenotypes&&0==n.updatedCuration.phenotypes.length&&(Vue.set(n.updatedCuration.phenotypes,0,{mim_number:n.phenotypes[0].phenotypeMimNumber,name:n.phenotypes[0].phenotype}),n.message="We have preselected the phenotype because you indicated you are curating "+n.updatedCuration.gene_symbol+" with this single disease entity")}))}},computed:y(y({},Object(a.c)("rationales",{rationales:"Items"})),{},{showPmids:function(){},loading:function(){return this.$store.getters.loading},showTable:function(){return 2!=this.updatedCuration.curation_type_id&&3!=this.updatedCuration.curation_type_id&&this.phenotypes.length>0},showRationale:function(){return(!this.updatedCuration.curation_type||1!=this.updatedCuration.curation_type.id||1!=this.phenotypes.length)&&0!=this.phenotypes.length}})},g=Object(l.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-container"},[n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading&&t.phenotypes.length<1,expression:"loading && phenotypes.length < 1"}],staticClass:"alert alert-info"},[t._v("Loading phenotype information...")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading||t.phenotypes.length>0,expression:"!loading || phenotypes.length > 0"}]},[n("div",{directives:[{name:"show",rawName:"v-show",value:0==t.phenotypes.length,expression:"phenotypes.length == 0"}],staticClass:"alert alert-secondary clearfix"},[n("p",[t._v("The gene "),n("strong",[t._v(t._s(t.updatedCuration.value))]),t._v(" is not associated with a disease entity per OMIM at this time.")])]),t._v(" "),n("b-table",{directives:[{name:"show",rawName:"v-show",value:t.showTable,expression:"showTable"}],attrs:{items:t.phenotypes,fields:t.fields,stacked:"sm",striped:"",hover:"",small:""},scopedSlots:t._u([{key:"head(checkbox)",fn:function(e){return[t._v("\n                            \n                    ")]}},{key:"cell(checkbox)",fn:function(e){return[n("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedCuration.phenotypes,expression:"updatedCuration.phenotypes"}],staticClass:"form-check-input form-check-input-lg",attrs:{type:"checkbox",disabled:t.disabled},domProps:{value:e.value,checked:Array.isArray(t.updatedCuration.phenotypes)?t._i(t.updatedCuration.phenotypes,e.value)>-1:t.updatedCuration.phenotypes},on:{change:function(n){var a=t.updatedCuration.phenotypes,r=n.target,i=!!r.checked;if(Array.isArray(a)){var o=e.value,s=t._i(a,o);r.checked?s<0&&t.$set(t.updatedCuration,"phenotypes",a.concat([o])):s>-1&&t.$set(t.updatedCuration,"phenotypes",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.updatedCuration,"phenotypes",i)}}})]}}])}),t._v(" "),n("curation-notifications",{staticClass:"mt-2",attrs:{curation:t.updatedCuration}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.message,expression:"message"}],staticClass:"alert alert-info"},[t._v(t._s(t.message))])],1)]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-8"},[t.showRationale?n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"rationale_id"}},[t._v("What is your rationale for this curation?")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.updatedCuration.rationales,expression:"updatedCuration.rationales"}],staticClass:"form-control",staticStyle:{height:"8.5em"},attrs:{multiple:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.updatedCuration,"rationales",e.target.multiple?n:n[0])}}},t._l(t.rationales,(function(e){return n("option",{key:e.id,domProps:{value:e,selected:t.updatedCuration.rationales.map((function(t){return t.id})).indexOf(e.id)>-1}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])})),0),t._v(" "),n("validation-error",{attrs:{messages:t.errors.rationales}})],1):t._e(),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:100==t.updatedCuration.rationale_id,expression:"updatedCuration.rationale_id == 100"}],staticClass:"form-group"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.updatedCuration.rationale_other,expression:"updatedCuration.rationale_other"}],staticClass:"form-control",attrs:{placeholder:"Other rationale details"},domProps:{value:t.updatedCuration.rationale_other},on:{input:function(e){e.target.composing||t.$set(t.updatedCuration,"rationale_other",e.target.value)}}}),t._v(" "),n("validation-error",{attrs:{messages:t.errors.rationale_other}})],1)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:3!=t.updatedCuration.curation_type_id,expression:"updatedCuration.curation_type_id != 3"}],staticClass:"form-group"},[n("label",{attrs:{for:"pmids"}},[t._v("Supporting PMIDS:")]),t._v(" "),n("small",[t._v("comma separated list")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedCuration.pmids,expression:"updatedCuration.pmids"}],staticClass:"form-control",attrs:{id:"pmids",placeholder:"18183754, 123451, 1231231"},domProps:{value:t.updatedCuration.pmids},on:{input:function(e){e.target.composing||t.$set(t.updatedCuration,"pmids",e.target.value)}}}),t._v(" "),n("validation-error",{attrs:{messages:t.errors.pmids}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:3==t.updatedCuration.curation_type_id,expression:"updatedCuration.curation_type_id == 3"}],staticClass:"form-group"},[n("label",{attrs:{for:"isolated_phenotype"}},[t._v("Enter broader OMIM phenotype (MIM phenotype):")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedCuration.isolated_phenotype,expression:"updatedCuration.isolated_phenotype"}],staticClass:"form-control",attrs:{id:"isolated_phenotype"},domProps:{value:t.updatedCuration.isolated_phenotype},on:{input:function(e){e.target.composing||t.$set(t.updatedCuration,"isolated_phenotype",e.target.value)}}}),t._v(" "),n("validation-error",{attrs:{messages:t.errors.isolated_phenotype}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"rationale_notes"}},[t._v("Provide your Rationale:")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.updatedCuration.rationale_notes,expression:"updatedCuration.rationale_notes"}],staticClass:"form-control",attrs:{id:"rationale_notes"},domProps:{value:t.updatedCuration.rationale_notes},on:{input:function(e){e.target.composing||t.$set(t.updatedCuration,"rationale_notes",e.target.value)}}}),t._v(" "),n("validation-error",{attrs:{messages:t.errors.rationale_notes}})],1)],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTable,expression:"showTable"}],staticClass:"col-lg-4"},[n("criteria-table")],1)])])}),[],!1,null,null,null).exports,w=n("j6Wa"),x=n("mLDf"),O={components:{WarningAlert:n("QAVV").a},props:["curation"],data:function(){return{matchedCurations:[]}},computed:{matchedCount:function(){return this.matchedCurations.length}},watch:{"curation.gene_symbol":function(){this.curation.gene_symbol&&this.checkCurations()},"curation.mondo_id":function(){this.curation&&this.curation.mondo_id&&this.checkCurations()}},methods:{checkCurations:_.debounce((function(){var t=this;this.curation&&this.curation.gene_symbol&&this.curation.mondo_id&&window.axios.get("/api/curations?gene_symbol="+this.curation.gene_symbol+"&mondo_id="+this.curation.mondo_id).then((function(e){t.matchedCurations=Object.values(e.data.data).filter((function(e){return e.id!=t.curation.id}))})).catch((function(t){alert("there was a problem retreiving curations that matched gene_symbol and mondo_id")}))}),500)}},k=Object(l.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-container"},[t.matchedCount>0?n("warning-alert",[n("div",{attrs:{slot:"summary"},slot:"summary"},[t._v("\n            There \n            "+t._s(1==t.matchedCount?"is":"are")+" \n            already "),n("strong",[t._v(t._s(t.matchedCount))]),t._v(" \n            curations in curation or pre-curation with this gene symbol and MonDO ID.\n        ")]),t._v(" "),n("div",{attrs:{slot:"details"},slot:"details"},[n("table",{staticClass:"table table-striped table-bordered table-small bg-white"},[n("thead",[n("tr",[n("th",[t._v("Gene")]),t._v(" "),n("th",[t._v("Expert Panel")]),t._v(" "),n("th",[t._v("Status")])])]),t._v(" "),t._l(t.matchedCurations,(function(e,a){return n("tbody",{key:a},[n("tr",[n("td",[n("a",{attrs:{href:"/#/curations/"+e.id,target:"show-"+e.id}},[t._v("\n                                "+t._s(e.gene_symbol)+"\n                            ")])]),t._v(" "),n("td",[t._v(t._s(e.expert_panel.name))]),t._v(" "),n("td",[t._v(t._s(e.current_status?e.current_status.name:"no status"))])])])}))],2)])]):t._e()],1)}),[],!1,null,null,null).exports,j={mixins:[r.a],components:{MondoAlert:k,ValidationError:c.a},data:function(){return{page:"mondo",updatedCuration:{}}},watch:{updatedCuration:function(){this.$emit("input",this.updatedCuration)},value:function(t,e){this.value!=this.updatedCuration&&this.syncValue()}}},P=Object(l.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form-group",{class:{error:t.errors.mondo_id},attrs:{horizontal:"",label:"MonDO ID","label-for":"mondo-id"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedCuration.mondo_id,expression:"updatedCuration.mondo_id"}],staticClass:"form-control",attrs:{type:"text",placeholder:"MONDO:0001158"},domProps:{value:t.updatedCuration.mondo_id},on:{input:function(e){e.target.composing||t.$set(t.updatedCuration,"mondo_id",e.target.value)}}}),t._v(" "),n("validation-error",{attrs:{messages:t.errors.mondo_id}}),t._v(" "),n("small",{staticClass:"text-muted"},[t._v("Refer to "),n("a",{attrs:{href:"https://www.ebi.ac.uk/ols/ontologies/mondo",target:"mondo"}},[t._v("MonDO")]),t._v(" for a valid MonDO ID")]),t._v(" "),n("mondo-alert",{attrs:{curation:t.updatedCuration}})],1),t._v("\n    or\n    "),n("b-form-group",{class:{error:t.errors.disease_entity_notes},attrs:{horizontal:"",label:"Disease Entity"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.updatedCuration.disease_entity_notes,expression:"updatedCuration.disease_entity_notes"}],staticClass:"form-control",domProps:{value:t.updatedCuration.disease_entity_notes},on:{input:function(e){e.target.composing||t.$set(t.updatedCuration,"disease_entity_notes",e.target.value)}}}),t._v(" "),n("small",[t._v("Use when no appropriate MonDO ID is available")])])],1)}),[],!1,null,null,null).exports,S=n("08pa"),I=n("FD4A");function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){D(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E={components:{CurationNotifications:v.a,DateField:S.default,ValidationError:c.a,ClassificationHistory:I.a},mixins:[r.a],data:function(){return{page:"mondo",updatedCuration:{}}},computed:$({},Object(a.c)("classifications",{classifications:"Items"})),methods:$({},Object(a.b)("classifications",{getAllClassifications:"getAllItems"})),mounted:function(){this.getAllClassifications()}},M=Object(l.a)(E,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"component-container w-50"},[e("classification-history",{attrs:{curation:this.value}}),this._v(" "),e("div",{staticClass:"alert alert-secondary"},[this._v("\n        Classifications must be added to a curation via the GCI.\n    ")])],1)}),[],!1,null,null,null).exports,T={components:{DocumentsCard:n("CCjs").a},mixins:[r.a],data:function(){return{page:"documents",curation:{}}},watch:{updatedCuration:function(){this.curation=this.updatedCuration?this.updatedCuration:{}}}},A=Object(l.a)(T,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("documents-card",{attrs:{curation:this.curation}})],1)}),[],!1,null,null,null).exports,L=n("iWAU"),U=void 0;function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){J(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F={props:["id"],components:{Phenotypes:g,Info:x.a,Mondo:P,CurationType:m,DeleteButton:w.a,Classification:M,Documents:A,TransferCurationControl:L.a},data:function(){return{currentStep:"info",steps:{info:{title:"Info",next:"curation-type"},"curation-type":{title:"Curation Type",next:"phenotypes"},phenotypes:{title:"Phenotypes",next:"mondo"},mondo:{title:"MonDO",next:"classification",back:"phenotypes"},classification:{title:"Classification",next:"documents",back:"mondo"},documents:{title:"Documents",next:null,back:"classification"}},updatedCuration:{rationals:[]},standInCuration:{id:0,expert_panel:{},rationales:[]},errors:{}}},watch:{$route:function(t,e){this.setCurrentStep()},curation:function(t,e){void 0!==t&&this.setUpdatedCuration(t,e)}},computed:B(B(B({},Object(a.c)({user:"getUser"})),Object(a.c)("curations",{curations:"Items",getCuration:"getItemById"})),{},{title:function(){var t="Edit Curation: ";return this.curation.gene_symbol&&(t+=this.curation.gene_symbol,this.curation.expert_panel&&(t+=" for "+this.curation.expert_panel.name)),t},curation:function(){if(0==this.curations.length)return this.standInCuration;var t=this.getCuration(this.id);return t||this.standInCuration},curator:function(){return U.curation.curator?U.curation.curator.name:"--"},expertPanel:function(){return U.expert_panel?U.curation.expert_panel.name:"--"},selectedPanel:function(){return U.panels.find((function(t){return t.id==U.newPanelId}))},geneSymbolError:function(){return!(this.errors&&this.errors.gene_symbol&&this.errors.gene_symbol.length>0)&&null},currentStepIdx:function(){return Object.keys(this.steps).indexOf(this.currentStep)},nextStep:function(){return"function"==typeof this.steps[this.currentStep].next?this.steps[this.currentStep].next():this.steps[this.currentStep].next},previousStep:function(){if(this.steps[this.currentStep].back)return"function"==typeof this.steps[this.currentStep].back?this.steps[this.currentStep].back():this.steps[this.currentStep].back;var t=Object.keys(this.steps);return this.currentStepIdx>0?t[this.currentStepIdx-1]:null}}),methods:B(B(B({},Object(a.d)("messages",["addInfo","addAlert"])),Object(a.b)("curations",{fetchCuration:"fetchItem",storeNewItem:"storeNewItem",storeItemUpdates:"storeItemUpdates"})),{},{updateCuration:function(t,e){var n=this;return this.updatedCuration.nav=e,this.storeItemUpdates(this.updatedCuration).then((function(e){return n.addInfo("Updates saved for "+n.updatedCuration.gene_symbol+"."),n.$emit("saved"),t&&t(e),n.errors={},e})).catch((function(t){return n.errors=t.response.data.errors,t}))},navNext:function(t){this.nextStep?this.$router.push(this.$route.path+"#"+this.nextStep):this.$router.push("/")},navBack:function(t){this.previousStep&&this.$router.push(this.$route.path+"#"+this.previousStep)},exit:function(t){this.$router.push("/")},setUpdatedCuration:function(t,e){if(void 0!==t)return void 0===e||t.id!=e.id&&t.id&&0!=t.id?(this.fetchCuration(this.curation.id),void(this.updatedCuration=JSON.parse(JSON.stringify(this.curation)))):void(this.updatedCuration=JSON.parse(JSON.stringify(this.curation)))},cancel:function(){this.$emit("canceled"),this.clearForm()},clearForm:function(){this.updatedCuration={},this.errors={}},proceed:function(){this.currentStep="disease-entity-fields"},setCurrentStep:function(){this.$route.hash.substr(1)&&(this.currentStep=this.$route.hash.substr(1))}}),mounted:function(){this.fetchCuration(this.id),this.updatedCuration={},this.curation&&this.setUpdatedCuration(this.curation,{}),this.setCurrentStep()}},R=Object(l.a)(F,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[n("router-link",{attrs:{to:"/curations"}},[t._v("\n            < Back to curations\n        ")])],1),t._v(" "),n("b-card",{attrs:{id:"edit-curation-modal"}},[n("template",{slot:"header"},[n("div",{staticClass:"d-flex justify-content-between"},[n("h3",[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"d-flex space-x-2"},[t.$store.state.features.transferEnabled?n("transfer-curation-control",{attrs:{curation:t.curation}}):t._e(),t._v(" "),n("router-link",{attrs:{to:"/curations/"+t.curation.id}},[t._v("\n                        view\n                    ")])],1)])]),t._v(" "),this.curation.id?t.user.canEditCuration(this.curation)?t._e():n("div",{staticClass:"alert alert-danger"},[t._v("\n            Sorry.  You don't have permission to edit this curation.\n        ")]):n("div",{staticClass:"alert alert-info"},[t._v("\n            Loading...\n        ")]),t._v(" "),t.curations&&t.user.canEditCuration(this.curation)?n("div",[n("b-form",{attrs:{id:"new-curation-form"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-2 border-right"},[n("nav",{staticClass:"nav flex-column"},t._l(t.steps,(function(e,a){return n("router-link",{key:a,staticClass:"nav-link",class:{active:t.currentStep==a},attrs:{to:t.$route.path+"#"+a}},[t._v("\n                                "+t._s(e.title)+"\n                            ")])})),1)]),t._v(" "),n("div",{staticClass:"col-md-10"},[n(t.currentStep,{ref:"editPage",tag:"component",attrs:{value:t.updatedCuration,errors:t.errors},on:{input:function(e){t.updatedCuration=e}}})],1)]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-4"},[n("delete-button",{attrs:{curation:t.curation}}),t._v(" "),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.$router.push("/curations")}}},[t._v("Cancel")])],1),t._v(" "),n("div",{staticClass:"col-md-8 text-right"},[n("button",{staticClass:"btn btn-secondary",attrs:{type:"button",id:"curation"},on:{click:function(e){return t.updateCuration()}}},[t._v("Save")]),t._v(" "),t.nextStep?n("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.updateCuration(t.exit)}}},[t._v("Save & exit")]):t._e(),t._v(" "),n("b-button",{directives:[{name:"show",rawName:"v-show",value:t.currentStepIdx>0,expression:"currentStepIdx > 0"}],attrs:{variant:"primary"},on:{click:function(e){return t.updateCuration(t.navBack,"back")}}},[t._v("Back")]),t._v(" "),n("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.updateCuration(t.navNext,"next")}}},[t._v("\n                            "+t._s(t.nextStep?"Next":"Save and exit")+"\n                        ")])],1)])])],1):t._e()],2)],1)}),[],!1,null,null,null);e.default=R.exports}}]);
//# sourceMappingURL=CurationEdit.2ea4570ee2c5becdcdbc.js.map