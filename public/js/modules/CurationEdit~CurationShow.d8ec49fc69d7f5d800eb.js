(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{CCjs:function(t,e,n){"use strict";var r=n("ttp2"),o=n("L2JU");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={components:{ValidationError:r.a},props:{curation:{required:!0,type:Object}},data:function(){return{showModal:!1,categories:[],newUpload:{},errors:{},uploading:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(o.c)({maxUploadSize:"getMaxUploadSize",supportedMimes:"getSupportedMimes"})),methods:{getUploadCategories:function(){var t=this;window.axios.get("/api/upload-categories").then((function(e){return t.categories=e.data.data}))},initNewUpload:function(){this.newUpload={name:"",upload_category_id:"",notes:""}},initErrors:function(){this.errors={}},clearForm:function(){this.initNewUpload(),this.initErrors()},prepopulateName:function(){""==this.newUpload.name&&(this.newUpload.name=this.$refs.uploadField.files[0].name)},uploadFile:function(t){var e=this;this.initErrors(),t.preventDefault();var n=new FormData;return n.append("curation_id",this.curation.id),n.append("name",this.newUpload.name),n.append("file",this.$refs.uploadField.files[0]),n.append("upload_category_id",this.newUpload.upload_category_id),n.append("notes",this.newUpload.notes),this.uploading=!0,window.axios.post("/api/curations/".concat(this.curation.id,"/uploads"),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.$emit("uploaded"),e.clearForm(),e.$nextTick((function(){return e.$refs.uploadModal.hide()}))})).catch((function(t){422!=t.response.status?413!=t.response.status?alert("There was an unkown problem with your file upload."):e.errors={file:["The file was too large"]}:e.errors=t.response.data.errors})).then((function(){e.uploading=!1}))},launchFileSelector:function(){this.$refs.uploadField.click()}},mounted:function(){this.getUploadCategories(),this.initNewUpload(),this.initErrors()}},c=n("KHd+"),l=Object(c.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-2"},[n("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){t.showModal=!0}}},[t._v("Add Document")]),t._v(" "),n("b-modal",{ref:"uploadModal",attrs:{title:"Upload a Document","ok-disabled":t.uploading,"cancel-disabled":t.uploading,"ok-title":t.uploading?"Uploading...":"Upload"},on:{ok:t.uploadFile,cancel:t.clearForm},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[n("div",{staticClass:"form-row"},[n("label",{staticClass:"col-sm-2",attrs:{for:"file-field"}},[t._v("\n                File:\n            ")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("div",{staticClass:"d-flex justify-content-between"},[n("div",[n("input",{ref:"uploadField",staticClass:"form-control-file",attrs:{type:"file",id:"file-field",disabled:t.uploading},on:{change:function(e){return t.prepopulateName()}}})]),t._v(" "),n("div",[n("small",{directives:[{name:"b-toggle",rawName:"v-b-toggle.file-info-collapse",modifiers:{"file-info-collapse":!0}}],staticClass:"text-secondary material-icons cursor-pointer"},[t._v("info")])])]),t._v(" "),n("b-collapse",{attrs:{id:"file-info-collapse"}},[n("div",[n("small",{staticClass:"text-muted"},[t._v("Supported types: "+t._s(t.supportedMimes.join(", ")))])]),t._v(" "),n("div",[n("small",{staticClass:"text-muted"},[t._v("Max size: "+t._s(t.maxUploadSize))])])]),t._v(" "),n("validation-error",{attrs:{messages:t.errors.file}})],1)]),t._v(" "),n("div",{staticClass:"form-row"},[n("label",{staticClass:"col-sm-2",attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newUpload.name,expression:"newUpload.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"name",maxlength:"255",disabled:t.uploading},domProps:{value:t.newUpload.name},on:{input:function(e){e.target.composing||t.$set(t.newUpload,"name",e.target.value)}}}),t._v(" "),n("validation-error",{attrs:{messages:t.errors.name}})],1)]),t._v(" "),t.categories.length>0?n("div",{staticClass:"form-row"},[n("label",{staticClass:"col-sm-2",attrs:{for:"category_id"}},[t._v("Category:")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.newUpload.upload_category_id,expression:"newUpload.upload_category_id"}],staticClass:"form-control form-control-sm",attrs:{name:"category_id",id:"category_id",disabled:t.uploading},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.newUpload,"upload_category_id",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[t._v("None")]),t._v(" "),t._l(t.categories,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])}))],2),t._v(" "),n("validation-error",{attrs:{messages:t.errors.upload_category_id}})],1)]):t._e(),t._v(" "),n("div",{staticClass:"form-row"},[n("label",{staticClass:"col-sm-2",attrs:{for:"notes"}},[t._v("\n                Notes:\n            ")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newUpload.notes,expression:"newUpload.notes"}],staticClass:"form-control form-control-sm",attrs:{name:"notes",id:"notes",cols:"30",rows:"5",maxlegnth:"65535",disabled:t.uploading},domProps:{value:t.newUpload.notes},on:{input:function(e){e.target.composing||t.$set(t.newUpload,"notes",e.target.value)}}}),t._v(" "),n("validation-error",{attrs:{messages:t.errors.notes}})],1)])])],1)}),[],!1,null,null,null).exports,u=n("o0o1"),d=n.n(u);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=t;if(Object.keys(t).includes("filter")){var r=t.filter,o=h(t,["filter"]);n=m(m({},r),o)}var a=[];e&&a.push("page="+(n.currentPage?n.currentPage:1)),delete n.currentPage;var i=function(t){if(null===n[t]||void 0===n[t])return"continue";Array.isArray(n[t])?n[t].forEach((function(e){a.push(encodeURIComponent(t)+"[]="+encodeURIComponent(e))})):"object"==f(n[t])&&null!==n[t]?Object.keys(n[t]).forEach((function(e){a.push("".concat(encodeURIComponent(t),"[").concat(e,"]=").concat(n[t][e]))})):a.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]))};for(var s in n)i(s);return a.join("&")};function _(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){_(a,r,o,i,s,"next",t)}function s(t){_(a,r,o,i,s,"throw",t)}i(void 0)}))}}var y=function(t){return w.apply(this,arguments)};function w(){return(w=g(d.a.mark((function t(e){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.where.curation_id,r="/api/curations/"+n+"/uploads",t.next=4,axios.get(r+(e?"?"+b(e):"")).then((function(t){return t.data.data}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C={components:{DocumentUploader:l},props:{curation:{reqired:!0,type:Object}},data:function(){var t=this;return{showDetailedInfo:!1,loadingDocuments:!1,documents:[],currentDocument:null,filter:"",fields:[{key:"id",sortable:!0},{key:"name",sortable:!0},{key:"category.name",sortable:!0,label:"Category"},{key:"created_at",label:"Created",sortable:!0,formatter:function(e,n,r){return t.$options.filters.formatDate(e,"YYYY-MM-DD")}},{key:"uploader.name",label:"Uploaded by",sortable:!0},"action"],filteredFields:["name","id","category","uploader","uploader"]}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(o.c)({user:"getUser"})),watch:{curation:function(){this.getDocuments()}},methods:{getDocuments:function(){var t,e=this;return(t=d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.curation.id){t.next=2;break}return t.abrupt("return");case 2:return e.loadingDocuments=!0,t.next=5,y({with:["category","uploader"],where:{curation_id:e.curation.id}});case 5:e.documents=t.sent,e.loadingDocuments=!1;case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){O(a,r,o,i,s,"next",t)}function s(t){O(a,r,o,i,s,"throw",t)}i(void 0)}))})()},showDetails:function(t){this.currentDocument=t,this.showDetailedInfo=!0},downloadFile:function(t){axios.get("/api/curations/"+this.curation.id+"/uploads/"+t.id+"/file",{responseType:"blob"}).then((function(e){console.log(e.data);var n=e.data,r=window.document.createElement("a"),o=window.URL.createObjectURL(n);r.href=o,r.download=t.name,window.document.body.append(r),r.click(),r.remove(),window.URL.revokeObjectURL(o)})).catch((function(t){if(!t.response||404!=t.response.status)throw t;alert("We couldn't seem to find the file you requested.")}))},deleteDocument:function(t){var e=this;confirm("Are you sure you want to delete the document "+t.name+"?")&&(this.documents.splice(this.documents.findIndex((function(e){return e.id=t.id})),1),axios.delete("/api/curations/"+this.curation.id+"/uploads/"+t.id).then((function(t){})).catch((function(t){e.getDocuments(),alert("There was a problem deleting the document.  Contact the administrator if the problem persists.")})))}},mounted:function(){this.getDocuments()}};function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U={components:{DocumentUploader:l,DocumentsList:Object(c.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loadingDocuments?n("div",{staticClass:"alert alert-info"},[t._v("Loading...")]):t._e(),t._v(" "),t.loadingDocuments||0!=t.documents.length?t._e():n("div",{staticClass:"alert alert-light border"},[t._v("\n        No documents found\n    ")]),t._v(" "),t.documents.length>0?n("div",[n("div",{staticClass:"form-inline mb-1"},[n("label",{attrs:{for:"list-filter-input"}},[t._v("Filter:")]),t._v("Â \n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})]),t._v(" "),n("b-table",{attrs:{fields:t.fields,items:t.documents,filter:t.filter,"filter-included-fields":t.filteredFields,stacked:"sm"},scopedSlots:t._u([{key:"cell(action)",fn:function(e){var r=e.item;return[n("a",{attrs:{href:"#",title:"Download document"},on:{click:function(e){return e.preventDefault(),t.downloadFile(r)}}},[n("i",{staticClass:"material-icons"},[t._v("cloud_download")])]),t._v(" "),n("a",{attrs:{href:"#",title:"Detailed information"},on:{click:function(e){return e.preventDefault(),t.showDetails(r)}}},[n("i",{staticClass:"material-icons"},[t._v("info")])]),t._v(" "),t.user.canEditCuration(t.curation)?n("a",{staticClass:"text-danger",attrs:{href:"#",title:"Delete document"},on:{click:function(e){return e.preventDefault(),t.deleteDocument(r)}}},[n("i",{staticClass:"material-icons"},[t._v("delete")])]):t._e()]}}],null,!1,2771667464)})],1):t._e(),t._v(" "),t.currentDocument?n("b-modal",{attrs:{"hide-footer":"",title:t.currentDocument.name,size:"lg"},model:{value:t.showDetailedInfo,callback:function(e){t.showDetailedInfo=e},expression:"showDetailedInfo"}},[n("dl",{staticClass:"row"},[n("dt",{staticClass:"col-md-2"},[t._v("Name:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.name))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("File name:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.file_name?t.currentDocument.file_name:"--"))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("Category:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.category?t.currentDocument.category.name:"--"))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("Date uploaded:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t._f("formatDate")(t.currentDocument.created_at,"YYYY-MM-DD")))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("Uploaded by:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.uploader?t.currentDocument.uploader.name:"--"))]),t._v(" "),n("dt",{staticClass:"col-md-2"},[t._v("Notes:")]),t._v(" "),n("dd",{staticClass:"col-md-10"},[t._v(t._s(t.currentDocument.notes?t.currentDocument.notes:"--"))])]),t._v(" "),n("div",{staticClass:"mt-2"},[n("button",{staticClass:"btn btn-primary text-middle btn-sm",attrs:{title:"Download document"},on:{click:function(e){return t.downloadFile(t.currentDocument)}}},[t._v("\n                Download document\n            ")])])]):t._e()],1)}),[],!1,null,null,null).exports},props:{curation:{reqired:!0,type:Object}},data:function(){return{}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(o.c)({user:"getUser"})),methods:{}},k=Object(c.a)(U,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[t.user.canEditCuration(t.curation)?n("document-uploader",{staticClass:"float-right",attrs:{curation:t.curation},on:{uploaded:function(e){return t.$refs.docList.getDocuments()}}}):t._e(),t._v("\n        Documents\n    ")],1),t._v(" "),n("documents-list",{ref:"docList",attrs:{curation:t.curation}})],1)}),[],!1,null,null,null);e.a=k.exports},FD4A:function(t,e,n){"use strict";var r=n("wd/R"),o=n.n(r),a=(n("XuAf"),{props:{curation:{type:Object,required:!0}},computed:{orderedClassifications:function(){return this.curation.classifications?this.curation.classifications.concat().sort((function(t,e){return o()(t.pivot.classification_date).isSame(e.pivot.classification_date)?t.id==e.id?0:t.id<e.id?1:-1:o()(t.pivot.classification_date).isBefore(e.pivot.classification_date)?1:-1})):[]}}}),i=(n("Stug"),n("KHd+")),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"curation-classification-history"},[n("table",{staticClass:"table table-bordered table-small"},[t._m(0),t._v(" "),t._l(t.orderedClassifications,(function(e,r){return n("tr",{key:e.pivot.id,class:{"table-primary highlight":0==r}},[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(t._f("formatDate")(e.pivot.classification_date,"YYYY-MM-DD")))])])}))],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Classification")]),this._v(" "),e("th",[this._v("Date")])])}],!1,null,"45066372",null);e.a=s.exports},RDmU:function(t,e,n){"use strict";var r=n("wd/R"),o=n.n(r),a=(n("XuAf"),{props:{curation:{type:Object,required:!0}},computed:{orderedStatuses:function(){return this.curation.curation_statuses?this.curation.curation_statuses.concat().sort((function(t,e){return o()(t.pivot.status_date).isSame(e.pivot.status_date)?t.id==e.id?0:t.id<e.id?1:-1:o()(t.pivot.status_date).isBefore(e.pivot.status_date)?1:-1})):[]}}}),i=(n("Vb8l"),n("KHd+")),s=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"curation-status-history"},[n("table",{staticClass:"table table-bordered table-small"},[t._m(0),t._v(" "),t._l(t.orderedStatuses,(function(e,r){return n("tr",{key:e.pivot.id,class:{"table-primary highlight":0==r}},[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(t._f("formatDate")(e.pivot.status_date,"YYYY-MM-DD")))])])}))],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("Status")]),this._v(" "),e("th",[this._v("Date")])])}],!1,null,"329ba673",null);e.a=s.exports},Stug:function(t,e,n){"use strict";n("Yn47")},Vb8l:function(t,e,n){"use strict";n("ZmI2")},Wmfs:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"tr.highlight td[data-v-45066372]{font-weight:700}",""])},XuAf:function(t,e,n){"use strict";var r=n("XuX8"),o=n.n(r),a=n("wd/R"),i=n.n(a);o.a.filter("formatDate",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm";return null===t?null:i()(t).format(e)}))},Yn47:function(t,e,n){var r=n("Wmfs");"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(t.exports=r.locals)},ZmI2:function(t,e,n){var r=n("ntFs");"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(t.exports=r.locals)},"dnW+":function(t,e){var n=function(t){var e=[];for(var n in t)e.push(n+"="+t[n]);return"?"+e.join("&")};t.exports={baseUrl:null,name:"BaseRepository",dates:[],makeRequest:function(t,e,n){if(!e)throw"No url";var r={method:t=t||"GET",url:e};return n&&(r.data=n),window.axios(r)},all:function(t){var e=this.baseUrl+n(t);return this.makeRequest("get",e).then(function(t){return{data:t.data.map(function(t){return this.transformDates(t)}.bind(this)),status:t.status,headers:t.headers,request:t.request,statusText:t.statusText,config:t.config}}.bind(this)).catch(function(t){var e;return e="Unable to retrieve "+this.name,console.error(e),alert("There was a problem: "+e+". Please notify the development team."),t}.bind(this))},find:function(t,e){var r=this.baseUrl+"/"+t+n(e);return this.makeRequest("get",r).then(function(t){return t.data=this.transformDates(t.data),t}.bind(this))},save:function(t){for(var e in t)t[e]&&t[e]._isAMomentObject?t[e]=t[e].format("YYYY-MM-DD HH:mm:ss"):this.dates.indexOf(e)>-1&&(t[e]=moment(t[e]).format("YYYY-MM-DD HH:mm:ss"));return t.id?this.update(t):this.store(t)},store:function(t){return this.makeRequest("post",this.baseUrl,t).then(function(t){return t.data=this.transformDates(t.data),t}.bind(this))},update:function(t){return this.makeRequest("put",this.baseUrl+"/"+t.id,t)},destroy:function(t){return this.makeRequest("delete",this.baseUrl+"/"+t)},transformDates:function(t){var e={};for(var n in t)this.dates.indexOf(n)>-1?e[n]=moment(t[n]):e[n]=t[n];return e}}},j6Wa:function(t,e,n){"use strict";var r=n("L2JU");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={props:{curation:{required:!0,type:Object}},data:function(){return{}},computed:a(a({},Object(r.c)({user:"getUser"})),{},{title:function(){var t="";return this.curation&&this.curation.gene_symbol&&(t+=this.curation.gene_symbol,this.curation.mondo_id&&(t+=" / "+this.curation.mondo_id),this.curation.expert_panel&&(t+=" for "+this.curation.expert_panel.name)),t}}),methods:a(a(a({},Object(r.b)("curations",{destroyCuration:"destroyItem"})),Object(r.d)("messages",["addInfo","addError"])),{},{deleteCuration:function(){var t=this;if(confirm("You're about to delete "+this.title+". This can not be undone.  Are you sure you want to continue?")){this.$router.push("/");var e=this.title;this.destroyCuration(this.curation.id).then((function(n){t.addInfo(e+" was successfully deleted.")})).catch((function(n){var r="There was a problem deleting"+e;403==n.response.status&&(r="You do not have permissions to delete curations.  Please contact an adminstrator to help you delete the curation."),t.addError(r)}))}}})},c=n("KHd+"),l=Object(c.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user.canDeleteCuration(t.curation)?n("button",{staticClass:"btn btn-danger",attrs:{id:"delete-curation-"+t.curation.id+"-btn"},on:{click:function(e){return t.deleteCuration(t.curation)}}},[t._t("default",[t._v("Delete")])],2):t._e()}),[],!1,null,null,null);e.a=l.exports},ntFs:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"tr.highlight td[data-v-329ba673]{font-weight:700}",""])},ttp2:function(t,e,n){"use strict";var r={props:["messages"],computed:{hasErrors:function(){return void 0!==this.messages}}},o=n("KHd+"),a=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.hasErrors,expression:"hasErrors"}],staticClass:"text-danger mt-1"},t._l(t.messages,(function(e,r){return n("div",{key:r},[n("small",[t._v(t._s(e))])])})),0)])}),[],!1,null,null,null);e.a=a.exports},vlNi:function(t,e,n){var r=n("dnW+"),o=Object.create(r);o.baseUrl="/api/omim",o.all=function(t){throw"all method is not supported"},o.all=function(t){throw'"all" method is not supported'},o.store=function(t){throw'"store" method is not supported'},o.update=function(t){throw'"update" method is not supported'},o.destroy=function(t){throw'"destroy" method is not supported'},o.entry=function(t){return this.makeRequest("get",this.baseUrl+"/entry?mim_number="+t)},o.search=function(t){return this.makeRequest("get",this.baseUrl+"/search?search="+t)},o.gene=function(t){return this.makeRequest("get",this.baseUrl+"/gene/"+t)},t.exports=o}}]);
//# sourceMappingURL=CurationEdit~CurationShow.d8ec49fc69d7f5d800eb.js.map