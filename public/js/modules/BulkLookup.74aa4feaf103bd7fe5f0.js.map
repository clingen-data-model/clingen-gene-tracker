{"version":3,"sources":["webpack:///./resources/assets/js/components/Curations/BulkLookup/FilterControl.vue?95a1","webpack:///./resources/assets/js/components/Curations/BulkLookup/FilterControl.vue?7f54","webpack:///./resources/assets/js/components/Curations/BulkLookup.vue?b557","webpack:///./resources/assets/js/components/Curations/BulkLookup/LookupForm.vue?2fda","webpack:///resources/assets/js/components/Curations/BulkLookup/LookupForm.vue","webpack:///./resources/assets/js/components/Curations/BulkLookup/LookupForm.vue","webpack:///./resources/assets/js/components/Curations/BulkLookup/LookupForm.vue?b6d9","webpack:///./resources/assets/js/components/Curations/BulkLookup/FilterControl.vue?729e","webpack:///resources/assets/js/components/Curations/BulkLookup/FilterControl.vue","webpack:///resources/assets/js/components/Curations/BulkLookup.vue","webpack:///./resources/assets/js/components/Curations/BulkLookup.vue?fb77","webpack:///./resources/assets/js/components/Curations/BulkLookup/FilterControl.vue","webpack:///./resources/assets/js/components/Curations/BulkLookup/FilterControl.vue?630a","webpack:///./resources/assets/js/components/Curations/BulkLookup.vue","webpack:///./resources/assets/js/components/Curations/BulkLookup/FilterControl.vue?8dc8"],"names":["content","module","i","options","transform","undefined","locals","exports","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","currentTab","expression","_v","domProps","on","$event","$emit","target","processFile","files","directives","name","rawName","Array","isArray","hasHeader","_i","$$a","$$el","$$c","checked","$$i","concat","slice","_s","title","_l","item","key","class","selected","selectedFilters","includes","_e","_m","formErrors","length","msg","idx","search","downloadCsv","geneSymbols","results","fields","filteredResults","emptyText","loadingResults","slot","push"],"mappings":"6FAAA,uBAAua,G,uBCCva,IAAIA,EAAU,EAAQ,QAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAACC,EAAOC,EAAIF,EAAS,MAOhE,IAAIG,EAAU,CAAC,KAAM,EAErB,eAPIC,EAQJ,gBAAqBC,GAER,EAAQ,OAAR,CAAyEL,EAASG,GAE5FH,EAAQM,SAAQL,EAAOM,QAAUP,EAAQM,S,mDCjB5C,I,qBCA4N,EC4C5N,CACE,MAAF,CACA,QACA,UAEE,KALF,WAMI,MAAJ,CACM,WAAN,EACM,WAAN,IAGE,MAAF,CACI,WAAJ,cACM,aAAN,0CAGE,QAAF,CACI,YADJ,SACA,GAAM,IAAN,OACM,GAAN,mCACQ,IAAR,iBACQ,EAAR,qCACU,IAAV,kBACU,GAAV,YAAU,CACE,IAAZ,gBACA,cACY,EAAZ,gCAGU,EAAV,oBAEQ,EAAR,yCACU,GAAV,mBACY,IAAZ,uBACY,QAAZ,4CAGQ,EAAR,oBAIE,QAxCF,WAyCI,IAAJ,qDACI,KAAJ,kB,YCpEe,EAXC,YACd,GCRW,WAAa,IAAIE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,YAAY,SAASC,MAAM,CAAC,SAAW,GAAG,MAAQ,GAAG,KAAO,IAAIC,MAAM,CAACC,MAAOT,EAAc,WAAEU,SAAS,SAAUC,GAAMX,EAAIY,WAAWD,GAAKE,WAAW,eAAe,CAACT,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,iBAAiB,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,sBAAsB,CAACP,EAAIc,GAAG,mBAAmBd,EAAIc,GAAG,iCAAiCV,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,KAAO,KAAK,KAAO,IAAI,GAAK,oBAAoB,UAAY,OAAO,YAAc,6EAA6EQ,SAAS,CAAC,MAAQf,EAAIS,OAAOO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,MAAM,QAASD,EAAOE,OAAOV,WAAWT,EAAIc,GAAG,KAAKV,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACE,YAAY,8BAA8BU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,MAAM,QAAS,OAAO,CAAClB,EAAIc,GAAG,WAAWd,EAAIc,GAAG,KAAKV,EAAG,SAAS,CAACE,YAAY,yBAAyBU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,MAAM,aAAa,CAAClB,EAAIc,GAAG,YAAYd,EAAIc,GAAG,KAAKV,EAAG,SAAS,CAACE,YAAY,qCAAqCU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,MAAM,aAAa,CAAClB,EAAIc,GAAG,iBAAiBd,EAAIc,GAAG,KAAKV,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,eAAe,CAACH,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,eAAe,CAACP,EAAIc,GAAG,gBAAgBd,EAAIc,GAAG,KAAKV,EAAG,QAAQ,CAACE,YAAY,UAAUC,MAAM,CAAC,KAAO,OAAO,OAAS,MAAM,GAAK,cAAcS,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOjB,EAAIoB,YAAYH,EAAOE,OAAOE,WAAWrB,EAAIc,GAAG,KAAKV,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,QAAQ,CAACJ,EAAIc,GAAG,8DAA8Dd,EAAIc,GAAG,KAAKV,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,QAAQ,CAACkB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUf,MAAOT,EAAa,UAAEa,WAAW,cAAcP,YAAY,mBAAmBC,MAAM,CAAC,KAAO,WAAW,GAAK,cAAcQ,SAAS,CAAC,QAAUU,MAAMC,QAAQ1B,EAAI2B,WAAW3B,EAAI4B,GAAG5B,EAAI2B,UAAU,OAAO,EAAG3B,EAAa,WAAGgB,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIY,EAAI7B,EAAI2B,UAAUG,EAAKb,EAAOE,OAAOY,IAAID,EAAKE,QAAuB,GAAGP,MAAMC,QAAQG,GAAK,CAAC,IAAaI,EAAIjC,EAAI4B,GAAGC,EAAhB,MAA4BC,EAAKE,QAASC,EAAI,IAAIjC,EAAI2B,UAAUE,EAAIK,OAAO,CAA3E,QAAwFD,GAAK,IAAIjC,EAAI2B,UAAUE,EAAIM,MAAM,EAAEF,GAAKC,OAAOL,EAAIM,MAAMF,EAAI,UAAWjC,EAAI2B,UAAUI,MAAS/B,EAAIc,GAAG,KAAKV,EAAG,QAAQ,CAACE,YAAY,mBAAmBC,MAAM,CAAC,IAAM,eAAe,CAACP,EAAIc,GAAG,yBAAyBd,EAAIc,GAAG,KAAKV,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACE,YAAY,yBAAyBU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,MAAM,aAAa,CAAClB,EAAIc,GAAG,YAAYd,EAAIc,GAAG,KAAKV,EAAG,SAAS,CAACE,YAAY,qCAAqCU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,MAAM,aAAa,CAAClB,EAAIc,GAAG,kBAAkB,IAAI,KACxsF,IDUpB,EACA,KACA,KACA,M,QEd6N,ECqB/N,CACE,MAAF,CACI,MAAJ,CACM,KAAN,MACM,UAAN,GAEI,MAAJ,CACM,KAAN,OACM,QAAN,UAEI,gBAAJ,CACM,KAAN,MACM,UAAN,K,ovBCiBA,IClDsN,EDkDtN,CACE,WAAF,CACI,WAAJ,EACI,cE7CY,YACd,GCTW,WAAa,IAAId,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIoC,GAAGpC,EAAIqC,UAAUrC,EAAIc,GAAG,KAAKV,EAAG,KAAK,CAACE,YAAY,yBAAyBN,EAAIsC,GAAItC,EAAS,OAAE,SAASuC,GAAM,OAAOnC,EAAG,KAAK,CAACoC,IAAID,EAAKjC,YAAY,iCAAiCmC,MAAM,CAACC,SAAU1C,EAAI2C,gBAAgBC,SAASL,IAAOvB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,MAAM,SAAUqB,MAAS,CAAEvC,EAAI2C,gBAAgBC,SAASL,GAAOnC,EAAG,OAAO,CAACE,YAAY,yCAAyC,CAACN,EAAIc,GAAG,uCAAuCd,EAAI6C,KAAK7C,EAAIc,GAAG,iBAAiBd,EAAIoC,GAAGG,GAAM,mBAAkB,OAC3nB,IDWpB,EACA,KACA,KACA,M,SFwCA,MAAF,GAGE,KARF,WASI,MAAJ,CACM,YAAN,GACM,QAAN,GACM,OAAN,CACA,CACQ,IAAR,cACQ,MAAR,OACQ,UAAR,GAEA,CACQ,IAAR,aACQ,MAAR,iBACQ,UAAR,gBAAU,OAAV,4DACQ,UAAR,GAEA,CACQ,IAAR,oBACQ,MAAR,eACQ,UAAR,GAEA,CACQ,IAAR,8BACQ,MAAR,iBACQ,UAAR,EACQ,QAAR,CACU,MAAV,SAGA,CACQ,IAAR,mDACQ,MAAR,cACQ,UAAR,EACQ,UAAR,YAAU,OAAV,kCACQ,QAAR,CACU,MAAV,SAGA,CACQ,IAAR,sBACQ,MAAR,SACQ,UAAR,EACQ,UAAR,YAAU,OAAV,kCACQ,QAAR,CACU,MAAV,SAGA,CACQ,IAAR,mCACQ,MAAR,cACQ,UAAR,EACQ,UAAR,YAAU,OAAV,kCACQ,QAAR,CACU,MAAV,SAGA,CACQ,IAAR,aACQ,MAAR,UACQ,UAAR,EACQ,UAAR,YAAU,OAAV,oCAGM,gBAAN,EACM,QAAN,CACQ,KAAR,GACQ,YAAR,GACQ,eAAR,GACQ,OAAR,IAEM,WAAN,KAGE,SAAF,CACI,UAAJ,WACM,MAAN,yEAEI,cAAJ,WACM,OAAN,wCAAQ,OAAR,oBAEI,gBAAJ,WAAM,IAAN,OACA,2CAaM,OAZN,6BACQ,EAAR,sBAAU,OAAV,6CAEA,oCACQ,EAAR,sBAAU,OAAV,qDAEA,uCACQ,EAAR,sBAAU,OAAV,wGAEA,+BACQ,EAAR,sBAAU,OAAV,gFAEA,GAEI,cAAJ,WACM,GAAN,uBACQ,MAAR,GAEM,IAAN,eACA,oBAAQ,OAAR,yBACA,iBACQ,OAAR,uBAGM,OAAN,eAEI,uBAAJ,WACM,GAAN,uBACQ,MAAR,GAEM,IAAN,eACA,oBAAQ,OAAR,mCACA,iBACQ,OAAR,iCAGM,OAAN,eAEI,gBAAJ,WACM,GAAN,uBACQ,MAAR,GAEM,IAAN,eACA,oBAAQ,OAAR,2BACA,iBACQ,OAAR,+CAGM,OAAN,gBAGE,QAAF,CACI,OADJ,WACM,IAAN,OACM,KAAN,cACM,KAAN,kBACM,MAAN,yBAAQ,YAAR,iBAAQ,KAAR,oBACA,kBAEQ,OADA,EAAR,oBACA,KAHA,OAKA,YACQ,IAAR,+CACQ,QAAR,OACQ,EAAR,gBAEA,kBACQ,EAAR,sBAGI,UAlBJ,SAkBA,MACA,wCAIM,KAAN,mBAHQ,MAAR,qGAKI,aAzBJ,SAyBA,KACM,IAAN,6BACM,IAAN,KAAM,CAGA,IAAN,8CACM,EAAN,YACM,QAAN,OACM,KAAN,yBAEI,aAnCJ,SAmCA,KACA,6BACQ,KAAR,eAEQ,KAAR,mBAGI,YA1CJ,WA0CM,IAAN,OACM,KAAN,SACM,MAAN,6BAAQ,YAAR,iBAAQ,KAAR,oBACA,kBACQ,IAAR,8BACQ,EAAR,qBACQ,SAAR,oBAEQ,EAAR,kDAAU,KAAV,eAEQ,EAAR,mDACQ,EAAR,QAEQ,SAAR,uBAXA,OAaA,YACQ,IAAR,+CACQ,QAAR,OACQ,EAAR,mBIpPI,EAAY,YACd,GXRW,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAI8C,GAAG,GAAG9C,EAAIc,GAAG,KAAKV,EAAG,MAAM,CAACE,YAAY,aAAa,CAAEN,EAAI+C,WAAWC,OAAS,EAAG5C,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQN,EAAIsC,GAAItC,EAAc,YAAE,SAASiD,EAAIC,GAAK,OAAO9C,EAAG,KAAK,CAACoC,IAAIU,GAAK,CAAClD,EAAIc,GAAGd,EAAIoC,GAAGa,SAAU,KAAKjD,EAAI6C,KAAK7C,EAAIc,GAAG,KAAKV,EAAG,cAAc,CAACE,YAAY,OAAOU,GAAG,CAAC,OAAShB,EAAImD,OAAO,OAASnD,EAAIoD,aAAa5C,MAAM,CAACC,MAAOT,EAAe,YAAEU,SAAS,SAAUC,GAAMX,EAAIqD,YAAY1C,GAAKE,WAAW,iBAAiBb,EAAIc,GAAG,KAAMd,EAAIsD,QAAQN,OAAS,EAAG5C,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIc,GAAG,gBAAgBd,EAAIc,GAAG,KAAKV,EAAG,UAAU,CAACE,YAAY,aAAaC,MAAM,CAAC,OAASP,EAAIuD,OAAO,MAAQvD,EAAIwD,gBAAgB,cAAc,KAAK,SAAW,GAAG,aAAa,GAAG,aAAaxD,EAAIyD,UAAU,KAAOzD,EAAI0D,eAAe,OAAQ,EAAK,QAAU,KAAK,CAACtD,EAAG,MAAM,CAACE,YAAY,cAAcC,MAAM,CAAC,KAAO,cAAcoD,KAAK,cAAc,CAAC3D,EAAIc,GAAG,yFAAyF,GAAGd,EAAI6C,MAAM,OAC5jC,CAAC,WAAa,IAAiB3C,EAATD,KAAgBE,eAAmBC,EAAnCH,KAA0CI,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACE,YAAY,QAAQ,CAAjIL,KAAsIa,GAAG,sBWUnL,EACA,KACA,KACA,MAIa,Y,+BClBLrB,EAAOM,QAAU,EAAQ,OAAR,EAAqE,IAKxF6D,KAAK,CAACnE,EAAOC,EAAI,yDAA0D","file":"js/modules/BulkLookup.74aa4feaf103bd7fe5f0.js","sourcesContent":["import mod from \"-!../../../../../../node_modules/style-loader/index.js!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterControl.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../node_modules/style-loader/index.js!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterControl.vue?vue&type=style&index=0&lang=css&\"","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterControl.vue?vue&type=style&index=0&lang=css&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterControl.vue?vue&type=style&index=0&lang=css&\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterControl.vue?vue&type=style&index=0&lang=css&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[(_vm.formErrors.length > 0)?_c('div',{staticClass:\"alert alert-danger\"},[_c('ul',{staticClass:\"mb-0\"},_vm._l((_vm.formErrors),function(msg,idx){return _c('li',{key:idx},[_vm._v(_vm._s(msg))])}),0)]):_vm._e(),_vm._v(\" \"),_c('lookup-form',{staticClass:\"mb-3\",on:{\"lookup\":_vm.search,\"getCsv\":_vm.downloadCsv},model:{value:(_vm.geneSymbols),callback:function ($$v) {_vm.geneSymbols=$$v},expression:\"geneSymbols\"}}),_vm._v(\" \"),(_vm.results.length > 0)?_c('div',[_c('h5',[_vm._v(\"Curations:\")]),_vm._v(\" \"),_c('b-table',{staticClass:\"text-small\",attrs:{\"fields\":_vm.fields,\"items\":_vm.filteredResults,\"primary-key\":\"id\",\"bordered\":\"\",\"show-empty\":\"\",\"empty-text\":_vm.emptyText,\"busy\":_vm.loadingResults,\"small\":true,\"striped\":\"\"}},[_c('div',{staticClass:\"text-center\",attrs:{\"slot\":\"table-busy\"},slot:\"table-busy\"},[_vm._v(\"\\n                            Looking for curations...\\n                        \")])])],1):_vm._e()],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('h3',{staticClass:\"mb-0\"},[_vm._v(\"Bulk Lookup\")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LookupForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LookupForm.vue?vue&type=script&lang=js&\"","<template>\n    <div>\n        <b-tabs vertical pills card class=\"border\"\n            v-model=\"currentTab\"\n        >\n            <b-tab title=\"Manual entry\">\n                <label for=\"gene-symbol-input\">Gene Symbols:</label>\n                &nbsp;\n                <textarea cols=\"10\" rows=\"3\" id=\"gene-symbol-input\" :value=\"value\" @input=\"$emit('input', $event.target.value)\" class=\"form-control\" maxlength=\"1900\" placeholder=\"Comma, space, or new-line separated gene symboels, i.e.: BCRA1, TP53 ABSC\"></textarea>\n                <div class=\"mt-1\">\n                    <button @click=\"$emit('input', '')\" class=\"btn btn-sm btn-light border\">Clear</button>\n                    <button @click=\"$emit('lookup')\" class=\"btn btn-primary btn-sm\">Search</button>\n                    <button @click=\"$emit('getCsv')\" class=\"btn btn-primary btn-sm float-right\">Get CSV</button>\n                </div>\n            </b-tab>\n            <b-tab title=\"CSV Upload\">\n                <div>\n                    <label for=\"csv-upload\">CSV file: </label>\n                    <input \n                        type=\"file\" \n                        accept=\"csv\"\n                        id=\"csv-upload\"\n                        @change=\"processFile($event.target.files)\"\n                        class=\"d-block\" \n                    >\n                    <div class=\"text-info text-small\">\n                        <small>File should contain a single column with gene symbols.</small>\n                    </div>\n                    <div class=\"form-check my-2\">\n                        <input type=\"checkbox\" v-model=\"hasHeader\" class=\"form-check-input\" id=\"has-header\">\n                        <label for=\"has-header\" class=\"form-check-label\"> has header row</label>\n                    </div>\n                </div>\n                <div class=\"mt-2\">\n                    <!-- <button @click=\"value = ''\" class=\"btn btn-sm btn-light border\">Clear</button> -->\n                    <button @click=\"$emit('lookup')\" class=\"btn btn-primary btn-sm\">Search</button>\n                    <button @click=\"$emit('getCsv')\" class=\"btn btn-primary btn-sm float-right\">Get CSV</button>\n                </div>\n            </b-tab>\n        </b-tabs>\n    </div>\n</template>\n<script>\n\nexport default {\n    props: [\n        'value',\n        'errors'\n    ],\n    data() {\n        return {\n            currentTab: 0,\n            hasHeader: false,\n        }\n    },\n    watch: {\n        currentTab: function (to, from) {\n            localStorage.setItem('bulk-upload-form-tab-index', to);\n        }\n    },\n    methods: {\n        processFile(files) {\n            if (files.length > 0 && files[0].type == 'text/csv') {\n                const reader = new FileReader();\n                reader.addEventListener('load', (event) => {\n                    let text = event.target.result;\n                    if (this.hasHeader) {\n                        let genes = text.split(\"\\n\");\n                        const header = genes.splice(0, 1);    \n                        this.$emit('input', genes.join(','));\n                        return;\n                    }\n                    this.$emit('input', text);\n                });\n                reader.addEventListener('progress', (event) => {\n                    if (event.loaded && event.total) {\n                        const percent = (event.loaded / event.total) * 100;\n                        console.log(`progress: ${Math.round(percent)}`);\n                    }\n                });\n                reader.readAsText(files[0]);\n            }\n        },\n    },\n    mounted() {\n        const storedIndex = localStorage.getItem('bulk-upload-form-tab-index');\n        this.currentTab =  storedIndex ? storedIndex : 0;\n    }\n}\n</script>","import { render, staticRenderFns } from \"./LookupForm.vue?vue&type=template&id=c12bd616&\"\nimport script from \"./LookupForm.vue?vue&type=script&lang=js&\"\nexport * from \"./LookupForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-tabs',{staticClass:\"border\",attrs:{\"vertical\":\"\",\"pills\":\"\",\"card\":\"\"},model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},[_c('b-tab',{attrs:{\"title\":\"Manual entry\"}},[_c('label',{attrs:{\"for\":\"gene-symbol-input\"}},[_vm._v(\"Gene Symbols:\")]),_vm._v(\"\\n             \\n            \"),_c('textarea',{staticClass:\"form-control\",attrs:{\"cols\":\"10\",\"rows\":\"3\",\"id\":\"gene-symbol-input\",\"maxlength\":\"1900\",\"placeholder\":\"Comma, space, or new-line separated gene symboels, i.e.: BCRA1, TP53 ABSC\"},domProps:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event.target.value)}}}),_vm._v(\" \"),_c('div',{staticClass:\"mt-1\"},[_c('button',{staticClass:\"btn btn-sm btn-light border\",on:{\"click\":function($event){return _vm.$emit('input', '')}}},[_vm._v(\"Clear\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary btn-sm\",on:{\"click\":function($event){return _vm.$emit('lookup')}}},[_vm._v(\"Search\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary btn-sm float-right\",on:{\"click\":function($event){return _vm.$emit('getCsv')}}},[_vm._v(\"Get CSV\")])])]),_vm._v(\" \"),_c('b-tab',{attrs:{\"title\":\"CSV Upload\"}},[_c('div',[_c('label',{attrs:{\"for\":\"csv-upload\"}},[_vm._v(\"CSV file: \")]),_vm._v(\" \"),_c('input',{staticClass:\"d-block\",attrs:{\"type\":\"file\",\"accept\":\"csv\",\"id\":\"csv-upload\"},on:{\"change\":function($event){return _vm.processFile($event.target.files)}}}),_vm._v(\" \"),_c('div',{staticClass:\"text-info text-small\"},[_c('small',[_vm._v(\"File should contain a single column with gene symbols.\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-check my-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.hasHeader),expression:\"hasHeader\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"checkbox\",\"id\":\"has-header\"},domProps:{\"checked\":Array.isArray(_vm.hasHeader)?_vm._i(_vm.hasHeader,null)>-1:(_vm.hasHeader)},on:{\"change\":function($event){var $$a=_vm.hasHeader,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.hasHeader=$$a.concat([$$v]))}else{$$i>-1&&(_vm.hasHeader=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.hasHeader=$$c}}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"has-header\"}},[_vm._v(\" has header row\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"mt-2\"},[_c('button',{staticClass:\"btn btn-primary btn-sm\",on:{\"click\":function($event){return _vm.$emit('lookup')}}},[_vm._v(\"Search\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary btn-sm float-right\",on:{\"click\":function($event){return _vm.$emit('getCsv')}}},[_vm._v(\"Get CSV\")])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterControl.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"mb-3\">\n        <h6>{{title}}</h6>\n        <ul class=\"list-group text-small\">\n            <li class=\"list-group-item cursor-pointer\"\n                v-for=\"item in items\" :key=\"item\"\n                @click=\"$emit('toggle', item)\"\n                :class=\"{selected: selectedFilters.includes(item)}\"\n            >\n                <span class=\"btn btn-sm float-right cursor-pointer\" \n                    v-if=\"selectedFilters.includes(item)\"\n                >\n                    x\n                </span>\n                {{item}}\n            </li>\n        </ul>\n    </div>\n    \n</template>\n<script>\n    export default {\n        props: {\n            items: {\n                type: Array,\n                required: true\n            },\n            title: {\n                type: String,\n                default: 'Filter'\n            },\n            selectedFilters: {\n                type: Array,\n                required: true\n            }\n        },\n    }\n</script>\n<style>\n    li.selected {\n        text-decoration: underline;\n        font-weight: bold;\n    }\n</style>","<template>\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h3 class=\"mb-0\">Bulk Lookup</h3>\n        </div>\n        <div class=\"card-body\">\n            <div class=\"alert alert-danger\" v-if=\"formErrors.length > 0\">\n                <ul class=\"mb-0\">\n                    <li v-for=\"(msg, idx) in formErrors\" :key=\"idx\">{{msg}}</li>\n                </ul>\n            </div>\n            <lookup-form \n                v-model=\"geneSymbols\"\n                @lookup=\"search\" \n                @getCsv=\"downloadCsv\"\n                class=\"mb-3\"\n            ></lookup-form>\n\n\n            <div v-if=\"results.length > 0\">\n                        <h5>Curations:</h5>\n                        <b-table \n                            :fields=\"fields\" \n                            :items=\"filteredResults\"\n                            primary-key=\"id\"\n                            bordered\n                            show-empty\n                            :empty-text=\"emptyText\"\n                            :busy=\"loadingResults\"\n                            :small=\"true\"\n                            class=\"text-small\"\n                            striped\n                        >\n                            <div slot=\"table-busy\" class=\"text-center\">\n                                Looking for curations...\n                            </div>\n                        </b-table>\n                    <!-- </div>\n                </div> -->\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport getCurations from '../../resources/curations/get_curations';\nimport moment from 'moment';\nimport testGeneSymbols from '../../../../../tests/files/med_gene_symbols';\nimport LookupForm from './BulkLookup/LookupForm'\nimport FilterControl from './BulkLookup/FilterControl'\n\nexport default {\n    components: {\n        LookupForm,\n        FilterControl,\n    },\n    props: {\n        \n    },\n    data() {\n        return {\n            geneSymbols: [],\n            results: [],\n            fields: [\n                {\n                    key: 'gene_symbol',\n                    label: 'Gene',\n                    sortable: true\n                },\n                {\n                    key: 'mondo_name',\n                    label: 'Disease Entity',\n                    formatter: (value, key, item) => value ? `${item.mondo_name} (${item.mondo_id})` : null,\n                    sortable: true,\n                },\n                {\n                    key: 'expert_panel.name',\n                    label: 'Expert Panel',\n                    sortable: true,\n                },\n                {\n                    key: 'current_classification.name',\n                    label: 'Classification',\n                    sortable: true,\n                    thStyle: {\n                        widht: \"8rem\"\n                    }\n                },\n                {\n                    key: 'current_classification.pivot.classification_date',\n                    label: 'Class. Date',\n                    sortable: true,\n                    formatter: value => value ? moment(value).format('MM/DD/YY') : null,\n                    thStyle: {\n                        widht: \"8rem\"\n                    }\n                },\n                {\n                    key: 'current_status.name',\n                    label: 'Status',\n                    sortable: true,\n                    formatter: value => value ? value.replace(/Curation /, '') : null,\n                    thStyle: {\n                        width: \"8rem\"\n                    }\n                },\n                {\n                    key: 'current_status.pivot.status_date',\n                    label: 'Status Date',\n                    sortable: true,\n                    formatter: value => value ? moment(value).format('MM/DD/YY') : null,\n                    thStyle: {\n                        width: \"8rem\"\n                    }\n                },\n                {\n                    key: 'updated_at',\n                    label: 'Updated',\n                    sortable: true,\n                    formatter: value => value ? moment(value).format('MM/DD/YY') : null,\n                }\n            ],\n            loadingResults: false,\n            filters: {\n                gene: [],\n                expertPanel: [],\n                classification: [],\n                status: []\n            },\n            formErrors: []\n        }\n    },\n    computed: {\n        emptyText: function () {\n            return 'Add comma speparated gene symbols in the textarea to do a bulk lookup';\n        },\n        responseGenes: function () {\n            return [...new Set(this.results.map(curation => curation.gene_symbol))];\n        },\n        filteredResults: function () {\n            let results = JSON.parse(JSON.stringify(this.results));\n            if (this.filters.gene.length > 0) {\n                results = results.filter(item => this.filters.gene.indexOf(item.gene_symbol) > -1)\n            }\n            if (this.filters.expertPanel.length > 0) {\n                results = results.filter(item => this.filters.expertPanel.indexOf(item.expert_panel) > -1)\n            }\n            if (this.filters.classification.length > 0) {\n                results = results.filter(item => item.current_classification !== null && this.filters.classification.indexOf(item.current_classification.name) > -1)\n            }\n            if (this.filters.status.length > 0) {\n                results = results.filter(item => item.current_status !== null && this.filters.status.indexOf(item.current_status.name) > -1)\n            }\n            return results\n        },\n        resultsPanels: function () {\n            if (this.results.length == 0)  {\n                return [];\n            }\n            const items = this.results\n                .filter(curation => curation.expert_panel !== null)\n                .map(curation => {\n                    return curation.expert_panel.name\n                });\n\n            return [...new Set(items)]\n        },\n        resultsClassifications: function () {\n            if (this.results.length == 0)  {\n                return [];\n            }\n            const items = this.results\n                .filter(curation => curation.current_classification !== null)\n                .map(curation => {\n                    return curation.current_classification.name\n                });\n                \n            return [...new Set(items)]\n        },\n        resultsStatuses: function () {\n            if (this.results.length == 0)  {\n                return [];\n            }\n            const items = this.results\n                .filter(curation => curation.current_status !== null)\n                .map(curation => {\n                    return curation.current_status ? curation.current_status.name : null\n                });\n                \n            return [...new Set(items)]\n        }\n    },\n    methods: {\n        search() {\n            this.formErrors = [];\n            this.loadingResults = true;\n            axios.post('/api/bulk-lookup', {'gene_symbol': this.geneSymbols, with: 'classifications'})\n                .then(response => {\n                    this.results = response.data.data\n                    return response;\n                })\n                .catch(error => {\n                    const flattenedErrors = Object.values(error.response.data.errors).flat();\n                    console.log(flattenedErrors);\n                    this.formErrors = flattenedErrors;\n                })\n                .then(response => {\n                    this.loadingResults = false;\n                });\n        },\n        addFilter(key, value) {\n            if (Object.keys(this.filters).indexOf(key) == -1) {\n                alert('Bad filter key. Valid filter keys include: \"gene\", \"expertPanel\", \"classification\", and \"status\"');\n                return;\n            }\n            this.filters[key].push(value);\n        },\n        removeFilter(key, value) {\n            const idx = this.filters[key].indexOf(value);\n            if (idx == -1) {\n                return;\n            }\n            const list = JSON.parse(JSON.stringify(this.filters[key]));\n            list.splice(idx, 1);\n            console.log(list);\n            this.$set(this.filters, key, list);\n        },\n        toggleFilter(key, value) {\n            if (this.filters[key].indexOf(value) < 0) {\n                this.addFilter(key, value);\n            } else {\n                this.removeFilter(key, value);\n            }\n        },\n        downloadCsv() {\n            this.search();\n            axios.post('/api/bulk-lookup/csv', {'gene_symbol': this.geneSymbols, with: 'classifications'})\n                .then(response => {\n                    const a = document.createElement('a');\n                    a.style.display = \"none\";\n                    document.body.appendChild(a);\n\n                    a.href = window.URL.createObjectURL( new Blob([response.data, { type: 'text/csv' }]));\n\n                    a.setAttribute('download', 'bulk-lookup-results.csv');\n                    a.click();\n\n                    document.body.removeChild(a);\n                })\n                .catch(error => {\n                    const flattenedErrors = Object.values(error.response.data.errors).flat();\n                    console.log(flattenedErrors);\n                    this.formErrors = flattenedErrors;\n                })\n        }\n    }\n}\n</script>","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BulkLookup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BulkLookup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterControl.vue?vue&type=template&id=ac83ef40&\"\nimport script from \"./FilterControl.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilterControl.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mb-3\"},[_c('h6',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('ul',{staticClass:\"list-group text-small\"},_vm._l((_vm.items),function(item){return _c('li',{key:item,staticClass:\"list-group-item cursor-pointer\",class:{selected: _vm.selectedFilters.includes(item)},on:{\"click\":function($event){return _vm.$emit('toggle', item)}}},[(_vm.selectedFilters.includes(item))?_c('span',{staticClass:\"btn btn-sm float-right cursor-pointer\"},[_vm._v(\"\\n                x\\n            \")]):_vm._e(),_vm._v(\"\\n            \"+_vm._s(item)+\"\\n        \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./BulkLookup.vue?vue&type=template&id=36c9117e&\"\nimport script from \"./BulkLookup.vue?vue&type=script&lang=js&\"\nexport * from \"./BulkLookup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"li.selected{text-decoration:underline;font-weight:700}\", \"\"]);\n\n// exports\n"],"sourceRoot":""}